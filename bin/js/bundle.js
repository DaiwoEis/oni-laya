var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
const FadeControl_1 = require("./uiscript/extend/FadeControl");
/*
* 游戏初始化配置;
*/
class GameConfig {
    constructor() { }
    static init() {
        var reg = Laya.ClassUtils.regClass;
        reg("uiscript/extend/FadeControl.ts", FadeControl_1.default);
    }
}
GameConfig.width = 640;
GameConfig.height = 1136;
GameConfig.scaleMode = "fixedwidth";
GameConfig.screenMode = "none";
GameConfig.alignV = "top";
GameConfig.alignH = "left";
GameConfig.startScene = "view/TitleView.scene";
GameConfig.sceneRoot = "";
GameConfig.debug = false;
GameConfig.stat = false;
GameConfig.physicsDebug = true;
GameConfig.exportSceneToJson = true;
exports.default = GameConfig;
GameConfig.init();
},{"./uiscript/extend/FadeControl":16}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const GameConfig_1 = require("./GameConfig");
const Application_1 = require("./core/Application");
class Main {
    constructor() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        Laya.stage.alignV = GameConfig_1.default.alignV;
        Laya.stage.alignH = GameConfig_1.default.alignH;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    onVersionLoaded() {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    }
    onConfigLoaded() {
        //加载IDE指定的场景
        //GameConfig.startScene && Laya.Scene.open(GameConfig.startScene);
        Application_1.default.instance;
        Laya.timer.frameLoop(1, null, () => {
            Application_1.default.instance.update();
        });
    }
}
//激活启动类
new Main();
},{"./GameConfig":1,"./core/Application":3}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const Singleton_1 = require("./Singleton");
const TitleSceneControl_1 = require("../script/scene/TitleSceneControl");
const SceneManager_1 = require("../gameplay/SceneManager");
const TitleView_1 = require("../uiscript/view/TitleView");
class Application {
    constructor() {
        this.init();
    }
    static get instance() {
        return Singleton_1.default.getInstance(Application);
    }
    init() {
        SceneManager_1.default.instance.init();
        SceneManager_1.default.instance.loadSence3D("3dres/LayaScene_TitleScene_Laya/Conventional/TitleScene_Laya.ls").then(s => {
            SceneManager_1.default.instance.setActive3DScene(s);
            s.addComponent(TitleSceneControl_1.default);
        });
        SceneManager_1.default.instance.loadSence("view/TitleView.scene").then(s => {
            s.addComponent(TitleView_1.default);
            s.open();
        });
    }
    update() {
    }
}
Application.IS_DRAW_DEBUG_FLOOR_MODEL = false;
exports.default = Application;
},{"../gameplay/SceneManager":9,"../script/scene/TitleSceneControl":15,"../uiscript/view/TitleView":17,"./Singleton":6}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class GameUtility {
    static getChildByName(root, name) {
        let rootCtrl = root;
        if (rootCtrl.name == name)
            return rootCtrl;
        for (let i = 0; i < rootCtrl.numChildren; ++i) {
            let ctrl = GameUtility.getChildByName(rootCtrl.getChildAt(i), name);
            if (ctrl != null)
                return ctrl;
        }
        return null;
    }
    static getCtrlByBreadth(root, name, maxSearchDepth = 5) {
        if (name == root.name) {
            return root;
        }
        for (let i = 0; i < root.numChildren; ++i) {
            let ctrl = GameUtility.getControlBFS(root, name, i);
            if (ctrl) {
                return ctrl;
            }
        }
        return null;
    }
    static getControlBFS(root, name, targetDepth) {
        if (targetDepth == 0) {
            for (let i = 0; i < root.numChildren; ++i) {
                if (root.getChildAt(i).name == name) {
                    return root.getChildAt(i);
                }
            }
            return null;
        }
        else {
            for (let i = 0; i < root.numChildren; ++i) {
                let ctrl = GameUtility.getControlBFS(root.getChildAt(i), name, targetDepth - 1);
                if (ctrl) {
                    return ctrl;
                }
            }
            return null;
        }
    }
    static getChildByPath(root, path) {
        let reuslt = root;
        for (let n of path) {
            reuslt = GameUtility.getChildByName(reuslt, n);
        }
        return reuslt;
    }
    static getChildAt(root, idx) {
        return root.getChildAt(idx);
    }
    static parseTagIndex(name, tag) {
        let pos = name.search(tag);
        if (pos == -1)
            return pos;
        let subStr = name.substr(tag.length);
        if (subStr.length == 0)
            return -1;
        for (let i = 0; i < subStr.length; i++) {
            if (subStr[i] < '0' || subStr[i] > '9')
                return -1;
        }
        return Number(subStr);
    }
    static formatFundtring(val) {
        let fee = 0.0;
        let strDanwei;
        if (Math.floor(val / 1000000000000) > 0) {
            fee = val / 1000000000000;
            strDanwei = "E";
        }
        else if (Math.floor(val / 1000000000) > 0) {
            fee = val / 1000000000;
            strDanwei = "B";
        }
        else if (Math.floor(val / 1000000) > 0) {
            fee = val / 1000000;
            strDanwei = "M";
        }
        else if (Math.floor(val / 1000) > 0) {
            fee = val / 1000;
            strDanwei = "K";
        }
        else {
            fee = val;
            strDanwei = "";
        }
        if (fee > 999) {
            fee = 999;
        }
        let result = fee.toPrecision(3);
        result += strDanwei;
        return result;
    }
    static uinti8ArrayToString(arr) {
        let byte = new Laya.Byte(arr);
        // if (byte.length >= 2) {
        //     return byte.readString();
        // } else {
        //     return "";
        // }
        return byte.readUTFBytes();
    }
    static stringToUinti8Array(str) {
        let byte = new Laya.Byte();
        byte.writeUTFBytes(str);
        return byte.readUint8Array(0, byte.length);
    }
    static switchTexture(obj, texturePath, isChangeTextureSize = false) {
        if (obj == null)
            return;
        if (obj instanceof Laya.Image) {
            obj.skin = texturePath;
        }
        else if (obj instanceof Laya.Sprite) {
            obj.graphics.clear();
            var texture = Laya.loader.getRes(texturePath);
            if (!texture)
                console.log(" === : " + texturePath);
            obj.loadImage(texturePath);
            if (isChangeTextureSize && texture)
                obj.size(texture.width, texture.height);
        }
    }
    static getChildIndexByName(obj, name) {
        for (let i = 0; i < obj.numChildren; ++i) {
            let ctrl = obj.getChildAt(i);
            if (ctrl.name == name)
                return i;
        }
        return -1;
    }
    static swap(arr, idx1, idx2) {
        let temp = arr[idx1];
        arr[idx1] = arr[idx2];
        arr[idx2] = temp;
    }
}
exports.default = GameUtility;
},{}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class Vector2 {
    constructor(x = 0, y = 0) {
        this.x = x;
        this.y = y;
    }
}
exports.Vector2 = Vector2;
class Vector3 {
    constructor(x = 0, y = 0, z = 0) {
        this.x = x;
        this.y = y;
        this.z = z;
    }
    static normalize(s, out) {
        let x = s.x, y = s.y, z = s.z;
        let len = x * x + y * y + z * z;
        if (len > 0) {
            len = 1 / Math.sqrt(len);
            out.x = s.x * len;
            out.y = s.y * len;
            out.z = s.z * len;
        }
    }
    static distance(value1, value2) {
        let x = value1.x - value2.x;
        let y = value1.y - value2.y;
        let z = value1.z - value2.z;
        return Math.sqrt((x * x) + (y * y) + (z * z));
    }
    static cross(a, b, o) {
        let ax = a.x, ay = a.y, az = a.z, bx = b.x, by = b.y, bz = b.z;
        o.x = ay * bz - az * by;
        o.y = az * bx - ax * bz;
        o.z = ax * by - ay * bx;
    }
    static dot(a, b) {
        return (a.x * b.x) + (a.y * b.y) + (a.z * b.z);
    }
    static distanceSquared(value1, value2) {
        var x = value1.x - value2.x;
        var y = value1.y - value2.y;
        var z = value1.z - value2.z;
        return (x * x) + (y * y) + (z * z);
    }
    static add(a, b, out) {
        out.x = a.x + b.x;
        out.y = a.y + b.y;
        out.z = a.z + b.z;
    }
    static multiply(a, b, out) {
        out.x = a.x * b.x;
        out.y = a.y * b.y;
        out.z = a.z * b.z;
    }
}
Vector3.ZERO = new Vector3();
exports.Vector3 = Vector3;
var MathUtility;
(function (MathUtility) {
    let V3;
    (function (V3) {
        function add(v1, v2) {
            let result = new Vector3();
            Vector3.add(v1, v2, result);
            return result;
        }
        V3.add = add;
        function minus(v1, v2) {
            let result = this.add(v1, multiply(v2, -1));
            return result;
        }
        V3.minus = minus;
        function multiply(...args) {
            let result = new Vector3();
            if (typeof args[1] == "number") {
                result.x = args[0].x * args[1];
                result.y = args[0].y * args[1];
                result.z = args[0].z * args[1];
            }
            else {
                Vector3.multiply(args[0], args[1], result);
            }
            return result;
        }
        V3.multiply = multiply;
    })(V3 = MathUtility.V3 || (MathUtility.V3 = {}));
    let V2;
    (function (V2) {
        V2.Right = new Vector2(1, 0);
        function angle(v1, v2) {
            let v1Temp = new Vector3(v1.x, v1.y);
            let v2Temp = new Vector3(v2.x, v2.y);
            Vector3.normalize(v1Temp, v1Temp);
            Vector3.normalize(v2Temp, v2Temp);
            let dot = Vector3.dot(v1Temp, v2Temp);
            let tmp = new Vector3();
            Vector3.cross(v1Temp, v2Temp, tmp);
            if (tmp.z > 0) {
                return Math.acos(dot);
            }
            else {
                return 2 * Math.PI - Math.acos(dot);
            }
        }
        V2.angle = angle;
    })(V2 = MathUtility.V2 || (MathUtility.V2 = {}));
    function clamp(value, min, max) {
        if (value < min) {
            value = min;
        }
        if (value > max) {
            value = max;
        }
        return value;
    }
    MathUtility.clamp = clamp;
    let Direction;
    (function (Direction) {
        Direction[Direction["Left"] = 0] = "Left";
        Direction[Direction["Right"] = 1] = "Right";
        Direction[Direction["Down"] = 2] = "Down";
        Direction[Direction["Up"] = 3] = "Up";
    })(Direction = MathUtility.Direction || (MathUtility.Direction = {}));
    function isPointInside(rect, point) {
        return point.x > rect.x && point.y > rect.y && point.x < (rect.x + rect.width) && point.y < (rect.y + rect.height);
    }
    MathUtility.isPointInside = isPointInside;
    function inverseLerp(from, to, v) {
        return clamp(v / (to - from), 0, 1);
    }
    MathUtility.inverseLerp = inverseLerp;
})(MathUtility = exports.MathUtility || (exports.MathUtility = {}));
},{}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class Singleton {
    constructor() {
        this.map = {};
    }
    static getInstance(clas) {
        if (Singleton.instance == null) {
            Singleton.instance = new Singleton();
        }
        let className = clas;
        let obj = Singleton.instance.map[className];
        if (obj == null) {
            Singleton.instance.map[className] = new clas();
        }
        return Singleton.instance.map[className];
    }
}
exports.default = Singleton;
},{}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const Singleton_1 = require("../core/Singleton");
class Game {
    constructor() {
        this.IS_DRAW_PLAYER_ATTACK_COLLISION = false;
    }
    static get instance() {
        return Singleton_1.default.getInstance(Game);
    }
}
exports.default = Game;
},{"../core/Singleton":6}],8:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var PhysicsUtility;
(function (PhysicsUtility) {
    PhysicsUtility.PLAYER_LAYER = Laya.Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER1;
    PhysicsUtility.ENV_LAYER = Laya.Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER2;
    PhysicsUtility.ENEMY_LAYER = Laya.Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER3;
})(PhysicsUtility = exports.PhysicsUtility || (exports.PhysicsUtility = {}));
},{}],9:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const Singleton_1 = require("../core/Singleton");
class SceneManager {
    constructor() {
        this.threeDScenes = [];
    }
    static get instance() {
        return Singleton_1.default.getInstance(SceneManager);
    }
    setActive3DScene(s) {
        this.active3DScene = s;
    }
    getActive3DScene() {
        return this.active3DScene;
    }
    setActiveView(s) {
        this.activeView = s;
    }
    getActiveView() {
        return this.activeView;
    }
    loadSence3D(url) {
        return new Promise((rosolve, reject) => {
            Laya.Scene3D.load(url, new Laya.Handler(null, (s) => {
                Laya.stage.addChild(s);
                rosolve(s);
            }));
        });
    }
    loadSence(url) {
        return new Promise((rosolve, reject) => {
            Laya.Scene.load(url, new Laya.Handler(null, (s) => {
                rosolve(s);
            }));
        });
    }
    init() {
        Laya.Scene.root.zOrder = 1;
    }
}
exports.default = SceneManager;
},{"../core/Singleton":6}],10:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const Game_1 = require("../../gameplay/Game");
class AttackColliderControl extends Laya.Script3D {
    constructor() {
        super(...arguments);
        this.player = null;
        this.isPowered = false;
    }
    onStart() {
        this.collider = this.owner;
        this.setPowered(false);
    }
    onTriggerStay(other) {
        do {
            if (!this.isPowered) {
                break;
            }
            if (other.owner.name != "OniGroup") {
                break;
            }
            // OniGroupControl oni = other.GetComponent<OniGroupControl>();
            // if (oni == null)
            // {
            //     break;
            // }
            // //
            // oni.OnAttackedFromPlayer();
            this.player.onAttackOni(other.owner.transform.position);
        } while (false);
    }
    setPowered(sw) {
        this.isPowered = sw;
        if (Game_1.default.instance.IS_DRAW_PLAYER_ATTACK_COLLISION) {
            this.collider.meshRenderer.enable = sw;
        }
    }
}
exports.default = AttackColliderControl;
},{"../../gameplay/Game":7}],11:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const SceneManager_1 = require("../../gameplay/SceneManager");
class CameraControl extends Laya.Script3D {
    onAwake() {
        this.playerSprite = SceneManager_1.default.instance.getActive3DScene().getChildByName("Player");
        this.root = this.owner;
    }
    onUpdate() {
        let pos = this.root.transform.position;
        pos.x = this.playerSprite.transform.position.x;
        this.root.transform.position = pos;
    }
}
exports.default = CameraControl;
},{"../../gameplay/SceneManager":9}],12:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const SceneManager_1 = require("../../gameplay/SceneManager");
const PhysicsUtility_1 = require("../../gameplay/PhysicsUtility");
class FloorControl extends Laya.Script3D {
    constructor() {
        super(...arguments);
        this.WIDTH = 10.0 * 4.0;
        this.MODEL_NUM = 3;
    }
    onAwake() {
        this.mainCamera = SceneManager_1.default.instance.getActive3DScene().getChildByName("Main Camera Prefab");
        let map2 = this.owner.getChildByName("map2");
        map2.meshRenderer.receiveShadow = true;
        let col = map2.getComponent(Laya.PhysicsCollider);
        col.collisionGroup = PhysicsUtility_1.PhysicsUtility.ENV_LAYER;
        col.canCollideWith = PhysicsUtility_1.PhysicsUtility.PLAYER_LAYER;
    }
    onUpdate() {
        let totalWidth = this.WIDTH * this.MODEL_NUM;
        let floorPosition = this.owner.transform.position;
        let cameraPosition = this.mainCamera.transform.position;
        if (floorPosition.x + totalWidth / 2.0 < cameraPosition.x) {
            floorPosition.x += totalWidth;
            this.owner.transform.position = floorPosition;
        }
        if (cameraPosition.x < floorPosition.x - totalWidth / 2.0) {
            floorPosition.x -= totalWidth;
            this.owner.transform.position = floorPosition;
        }
    }
}
exports.default = FloorControl;
},{"../../gameplay/PhysicsUtility":8,"../../gameplay/SceneManager":9}],13:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class PlayerAnimationEventControl extends Laya.Script3D {
    playSwordSound() {
        this.playerControl.playSwordSound();
    }
}
exports.default = PlayerAnimationEventControl;
},{}],14:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const GameUtility_1 = require("../../core/GameUtility");
const PhysicsUtility_1 = require("../../gameplay/PhysicsUtility");
const MathUtility_1 = require("../../core/MathUtility");
const AttackColliderControl_1 = require("./AttackColliderControl");
const PlayerAnimationEventControl_1 = require("./PlayerAnimationEventControl");
var ATTACK_MOTION;
(function (ATTACK_MOTION) {
    ATTACK_MOTION[ATTACK_MOTION["NONE"] = -1] = "NONE";
    ATTACK_MOTION[ATTACK_MOTION["RIGHT"] = 0] = "RIGHT";
    ATTACK_MOTION[ATTACK_MOTION["LEFT"] = 1] = "LEFT";
    ATTACK_MOTION[ATTACK_MOTION["NUM"] = 2] = "NUM";
})(ATTACK_MOTION || (ATTACK_MOTION = {}));
var STEP;
(function (STEP) {
    STEP[STEP["NONE"] = -1] = "NONE";
    STEP[STEP["RUN"] = 0] = "RUN";
    STEP[STEP["STOP"] = 1] = "STOP";
    STEP[STEP["MISS"] = 2] = "MISS";
    STEP[STEP["NUM"] = 3] = "NUM";
})(STEP || (STEP = {}));
var SpecialAttackStage;
(function (SpecialAttackStage) {
    SpecialAttackStage[SpecialAttackStage["Start"] = 0] = "Start";
    SpecialAttackStage[SpecialAttackStage["Rolling"] = 1] = "Rolling";
    SpecialAttackStage[SpecialAttackStage["End"] = 2] = "End";
})(SpecialAttackStage || (SpecialAttackStage = {}));
var AttackState;
(function (AttackState) {
    AttackState[AttackState["Idle"] = 0] = "Idle";
    AttackState[AttackState["NormalAttack"] = 1] = "NormalAttack";
    AttackState[AttackState["SpecialAttack"] = 2] = "SpecialAttack";
})(AttackState || (AttackState = {}));
class PlayerControl extends Laya.Script3D {
    constructor() {
        super(...arguments);
        this.swordSound = "oni_player01";
        this.swordHitSound = "oni_player02";
        this.missSound = "oni_player06";
        this.runSound = "oni_player07";
        this.attackSoundIdx = 0;
        this.runSpeed = 5;
        this.RUN_SPEED_MAX = 20.0;
        this.RUN_SPEED_ADD = 5.0;
        this.RUN_SPEED_SUB = 5.0 * 4.0;
        this.GRAVITY = 9.8;
        this.MISS_GRAVITY = 9.8 * 2.0;
        //private sceneControl: SceneControl;
        this.attackTimer = 0.0;
        this.attackDisableTimer = 0.0;
        this.ATTACK_TIME = 0.3;
        this.ATTACK_DISABLE_TIME = 1.0;
        this.isRunning = true;
        this.isContactFloor = false;
        this.isPlayable = true;
        this.stopPosition = -1.0;
        this.attackMotion = ATTACK_MOTION.LEFT;
        // public kiseki_left: AnimatedTextureExtendedUV = null;
        // public kiseki_right: AnimatedTextureExtendedUV = null;
        this.fxHit = null;
        this.fxRun = null;
        this.minRate = 0.0;
        this.maxRate = 3.0;
        this.step = STEP.NONE;
        this.nextStep = STEP.NONE;
        this.attackState = AttackState.Idle;
        this.specialAttackStage = SpecialAttackStage.End;
        //     private void sword_fx_control()
        //     {
        //         do
        //         {
        //             if (this.attackTimer <= 0.0f)
        //             {
        //                 break;
        //             }
        //             Animator animator = this.GetComponentInChildren<Animator>();
        //             AnimatorStateInfo state_info = animator.GetCurrentAnimatorStateInfo(0);
        //             AnimatorClipInfo clip_info = animator.GetCurrentAnimatorClipInfo(0)[0];
        //             AnimationClip clip = clip_info.clip;
        //             AnimatedTextureExtendedUV anim_player;
        //             switch (this.attack_motion)
        //             {
        //                 default:
        //                 case ATTACK_MOTION.RIGHT:
        //                     {
        //                         anim_player = this.kiseki_right;
        //                     }
        //                     break;
        //                 case ATTACK_MOTION.LEFT:
        //                     {
        //                         anim_player = this.kiseki_left;
        //                     }
        //                     break;
        //             }
        //             float start_frame = 2.5f;
        //             float start_time = start_frame / clip.frameRate;
        //             float current_time = state_info.normalizedTime * state_info.length;
        //             if (current_time < start_time)
        //             {
        //                 break;
        //             }
        //             anim_player.StartPlay(current_time - start_time);
        //         } while (false);
        //     }
    }
    onAwake() {
        this.rig = this.owner.getComponent(Laya.Rigidbody3D);
        this.rig.angularFactor = new Laya.Vector3(0, 0, 0);
        this.rig.collisionGroup = PhysicsUtility_1.PhysicsUtility.PLAYER_LAYER;
        this.rig.canCollideWith = PhysicsUtility_1.PhysicsUtility.ENV_LAYER | PhysicsUtility_1.PhysicsUtility.ENEMY_LAYER;
        GameUtility_1.default.getChildByName(this.owner, "chibi").skinnedMeshRenderer.castShadow = true;
        GameUtility_1.default.getChildByName(this.owner, "dekaino").skinnedMeshRenderer.castShadow = true;
        this.animator = GameUtility_1.default.getChildByName(this.owner, "model_samurai").getComponent(Laya.Animator);
        this.attackCollider = GameUtility_1.default.getChildByName(this.owner, "AttackCollider").addComponent(AttackColliderControl_1.default);
        this.attackCollider.player = this;
        let attckCol = GameUtility_1.default.getChildByName(this.owner, "AttackCollider").getComponent(Laya.PhysicsCollider);
        attckCol.collisionGroup = PhysicsUtility_1.PhysicsUtility.PLAYER_LAYER;
        attckCol.canCollideWith = PhysicsUtility_1.PhysicsUtility.ENEMY_LAYER;
        this.attackSound = ["oni_player03", "oni_player04", "oni_player05"];
        let cop = GameUtility_1.default.getChildByName(this.owner, "model_samurai").addComponent(PlayerAnimationEventControl_1.default);
        cop.playerControl = this;
    }
    onStart() {
        // this.attack_collider = GameObject.FindGameObjectWithTag("AttackCollider").GetComponent<AttackColliderControl>();
        // this.attack_collider.player = this;
        // this.kiseki_left = GameObject.FindGameObjectWithTag("FX_Kiseki_L").GetComponent<AnimatedTextureExtendedUV>();
        // this.kiseki_left.StopPlay();
        // this.kiseki_right = GameObject.FindGameObjectWithTag("FX_Kiseki_R").GetComponent<AnimatedTextureExtendedUV>();
        // this.kiseki_right.StopPlay();
        this.fxHit = GameUtility_1.default.getChildByName(this.owner, "OniHitParticle Prefab");
        this.fxRun = GameUtility_1.default.getChildByName(this.owner, "OniRunParticle Prefab");
        this.fxHit.particleSystem.stop();
        this.fxRun.particleSystem.stop();
        this.runSpeed = 0.0;
        this.nextStep = STEP.RUN;
        this.playSound(this.runSound, 0);
    }
    playSwordSound() {
        this.playSound(this.swordSound);
    }
    playSound(name, loops) {
        Laya.SoundManager.playSound(`sound/${name}.wav`, loops);
    }
    onUpdate() {
        this.minRate = MathUtility_1.MathUtility.clamp(this.minRate, 0.0, this.maxRate);
        this.maxRate = MathUtility_1.MathUtility.clamp(this.maxRate, this.minRate, 5);
        if (this.nextStep == STEP.NONE) {
            switch (this.step) {
                case STEP.RUN: {
                    if (!this.isRunning) {
                        if (this.runSpeed <= 0.0) {
                            this.fxRun.particleSystem.stop();
                            this.nextStep = STEP.STOP;
                        }
                    }
                    break;
                }
                case STEP.MISS: {
                    if (this.isContactFloor) {
                        this.fxRun.particleSystem.play();
                        this.rig.gravity = new Laya.Vector3(0, this.GRAVITY, 0);
                        this.nextStep = STEP.RUN;
                    }
                    break;
                }
            }
        }
        if (this.nextStep != STEP.NONE) {
            switch (this.nextStep) {
                case STEP.STOP: {
                    this.animator.crossFade("stop", 0.2);
                    break;
                }
                case STEP.MISS: {
                    let velocity = this.rig.linearVelocity;
                    let jumpHeight = 1.0;
                    velocity.x = 2.5;
                    velocity.y = Math.sqrt(this.MISS_GRAVITY * jumpHeight);
                    velocity.z = 0.0;
                    this.rig.linearVelocity = velocity;
                    this.rig.gravity = new Laya.Vector3(0, this.MISS_GRAVITY, 0);
                    this.runSpeed = 0.0;
                    this.animator.crossFade("yarare", 0.2);
                    this.playSound(this.missSound);
                    this.fxRun.particleSystem.stop();
                    break;
                }
                case STEP.RUN: {
                    this.animator.crossFade("run", 0.2);
                    break;
                }
            }
            this.step = this.nextStep;
            this.nextStep = STEP.NONE;
        }
        switch (this.step) {
            case STEP.RUN: {
                if (this.isRunning) {
                    this.runSpeed += this.RUN_SPEED_ADD * Laya.timer.delta * 0.001;
                }
                else {
                    this.runSpeed -= this.RUN_SPEED_SUB * Laya.timer.delta * 0.001;
                }
                this.runSpeed = MathUtility_1.MathUtility.clamp(this.runSpeed, 0.0, this.RUN_SPEED_MAX);
                let newVelocity = this.rig.linearVelocity;
                newVelocity.x = -this.runSpeed;
                if (newVelocity.y > 0.0) {
                    newVelocity.y = 0.0;
                }
                this.rig.linearVelocity = newVelocity;
                //this.attackControl();
                //this.swordFxControl();
                break;
            }
        }
        this.isContactFloor = false;
    }
    onCollisionStay(collision) {
        if (collision.other.owner.name == "OniGroup") {
            do {
                if (this.attackTimer > 0.0) {
                    break;
                }
                if (this.step == STEP.MISS) {
                    break;
                }
                this.nextStep = STEP.MISS;
                //this.scene_control.OnPlayerMissed();
                // OniGroupControl oniGroup = other.gameObject.GetComponent<OniGroupControl>();
                // oniGroup.OnPlayerHitted();
            } while (false);
        }
        else if (collision.other.owner.name == "map2") {
            this.isContactFloor = true;
        }
    }
    onCollisionEnter(collision) {
        this.onCollisionStay(collision);
    }
    onAttackOni(postion) {
        this.resetAttackDisableTimer();
        this.playHitEffect(postion);
        this.playHitSound();
    }
    playHitEffect(position) {
        this.fxHit.transform.position = position;
        this.fxHit.particleSystem.play();
    }
    playHitSound() {
        this.playSound(this.swordHitSound);
    }
    resetAttackDisableTimer() {
        this.attackDisableTimer = 0.0;
    }
    getAttackTimer() {
        return (this.ATTACK_TIME - this.attackTimer);
    }
    GetSpeedRate() {
        let playerSpeedRate = MathUtility_1.MathUtility.inverseLerp(0.0, this.RUN_SPEED_MAX, Laya.Vector3.scalarLength(this.rig.linearVelocity));
        return playerSpeedRate;
    }
    stopRequest() {
        this.isRunning = false;
    }
    playable() {
        this.isPlayable = true;
    }
    unPlayable() {
        this.isPlayable = false;
    }
    isStopped() {
        let isStopped = false;
        do {
            if (this.isRunning) {
                break;
            }
            if (this.runSpeed > 0.0) {
                break;
            }
            isStopped = true;
        } while (false);
        return isStopped;
    }
    calcDistanceToStop() {
        let distance = Laya.Vector3.scalarLength(this.rig.linearVelocity) / (2.0 * this.RUN_SPEED_SUB);
        return distance;
    }
    startSpecialAttack() {
        if (!this.isPlayable) {
            return;
        }
        if (this.attackState != AttackState.Idle) {
            return;
        }
        this.attackState = AttackState.SpecialAttack;
        this.specialAttackStage = SpecialAttackStage.Start;
        this.attackCollider.setPowered(true);
        this.animator.crossFade("attack_rot_s", 0.2);
        Laya.timer.once(200, null, () => {
            this.specialAttackStage = SpecialAttackStage.Rolling;
            this.animator.play("attack_rot");
        });
        this.playSound(this.swordSound);
        this.attackTimer = 0.315;
        this.playSound(this.attackSound[2]);
    }
    stopSpecialAttack() {
        if (this.attackState != AttackState.SpecialAttack) {
            return;
        }
        this.attackCollider.setPowered(false);
        this.specialAttackStage = SpecialAttackStage.End;
        this.animator.play("attack_rot_e");
        Laya.timer.once(500, null, () => {
            this.animator.crossFade("run", 0.2);
            Laya.timer.once(this.attackDisableTimer * 1000, null, () => {
                this.attackState = AttackState.Idle;
            });
        });
    }
    attackControl() {
        if (this.attackState == AttackState.SpecialAttack) {
            this.attackTimer -= Laya.timer.delta * 0.001;
            if (this.attackTimer < 0) {
                this.playSound(this.swordSound);
                this.attackTimer = 0.315;
            }
        }
    }
    normalAttack() {
        if (!this.isPlayable) {
            return;
        }
        if (this.attackState != AttackState.Idle) {
            return;
        }
        this.attackState = AttackState.NormalAttack;
        this.attackCollider.setPowered(true);
        Laya.timer.once(this.ATTACK_TIME * 1000, null, () => {
            this.attackCollider.setPowered(false);
            Laya.timer.once(this.ATTACK_DISABLE_TIME * 1000, null, () => {
                this.attackState = AttackState.Idle;
            });
        });
        switch (this.attackMotion) {
            default:
            case ATTACK_MOTION.RIGHT:
                this.attackMotion = ATTACK_MOTION.LEFT;
                break;
            case ATTACK_MOTION.LEFT:
                this.attackMotion = ATTACK_MOTION.RIGHT;
                break;
        }
        switch (this.attackMotion) {
            default:
            case ATTACK_MOTION.RIGHT:
                this.animator.crossFade("attack_r", 0.2);
                break;
            case ATTACK_MOTION.LEFT:
                this.animator.crossFade("attack_l", 0.2);
                break;
        }
        Laya.timer.once(600, null, () => {
            this.animator.crossFade("run", 0.2);
        });
        this.playSound(this.attackSound[this.attackSoundIdx]);
        this.attackSoundIdx = (this.attackSoundIdx + 1) % this.attackSound.length;
        this.playSound(this.swordSound);
    }
}
exports.default = PlayerControl;
},{"../../core/GameUtility":4,"../../core/MathUtility":5,"../../gameplay/PhysicsUtility":8,"./AttackColliderControl":10,"./PlayerAnimationEventControl":13}],15:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const PlayerControl_1 = require("../other/PlayerControl");
const CameraControl_1 = require("../other/CameraControl");
const FloorControl_1 = require("../other/FloorControl");
const GameUtility_1 = require("../../core/GameUtility");
class TitleSceneControl extends Laya.Script3D {
    onAwake() {
        let light = GameUtility_1.default.getChildByName(this.owner, "Directional light");
        light.shadow = true;
        light.shadowDistance = 100;
        light.shadowResolution = 2048;
        light.shadowPSSMCount = 1;
        light.shadowPCFType = 3;
        let player = this.owner.getChildByName("Player");
        player.addComponent(PlayerControl_1.default);
        let camera = this.owner.getChildByName("Main Camera Prefab");
        camera.addComponent(CameraControl_1.default);
        let floor1 = this.owner.getChildByName("Floor0 Prefab");
        floor1.addComponent(FloorControl_1.default);
        let floor2 = this.owner.getChildByName("Floor1 Prefab");
        floor2.addComponent(FloorControl_1.default);
        let floor3 = this.owner.getChildByName("Floor2 Prefab");
        floor3.addComponent(FloorControl_1.default);
    }
    onUpdate() {
    }
}
exports.default = TitleSceneControl;
},{"../../core/GameUtility":4,"../other/CameraControl":11,"../other/FloorControl":12,"../other/PlayerControl":14}],16:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class FadeControl extends Laya.Script {
    onAwake() {
        this.timer = 0.0;
        this.fadeTime = 0.0;
        this.colorStart = new Laya.Color(0.0, 0.0, 0.0, 0.0);
        this.colorTarget = new Laya.Color(0.0, 0.0, 0.0, 0.0);
        this.imageCtrl = this.owner;
        this.fading = false;
    }
    onUpdate() {
        if (this.fadeTime) {
            if (this.timer < this.fadeTime) {
                let rate = this.timer / this.fadeTime;
                rate = Math.sin(rate * Math.PI / 2.0);
                let color = this.lerpColor(this.colorStart, this.colorTarget, rate);
                this.updateColor(color);
            }
            else {
                this.updateColor(this.colorTarget);
                this.fading = false;
            }
            this.timer += Laya.timer.delta * 0.001;
        }
    }
    lerpColor(l, r, t) {
        return new Laya.Color(Laya.MathUtil.lerp(l.r, r.r, t), Laya.MathUtil.lerp(l.g, r.g, t), Laya.MathUtil.lerp(l.b, r.b, t), Laya.MathUtil.lerp(l.a, r.a, t));
    }
    toHex(v) {
        let s = v.toString(16);
        if (s.length == 1) {
            s = "0" + s;
        }
        return s;
    }
    updateColor(color) {
        let c = "#" + this.toHex(color.r) + this.toHex(color.g) + this.toHex(color.b);
        this.imageCtrl.bgColor = c;
        this.imageCtrl.alpha = color.a;
    }
    fade(time, start, target) {
        this.imageCtrl.visible = true;
        this.fadeTime = time;
        this.timer = 0.0;
        this.colorStart = start;
        this.colorTarget = target;
        this.fading = true;
    }
    isActive() {
        return this.fading;
    }
}
exports.default = FadeControl;
},{}],17:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const FadeControl_1 = require("../extend/FadeControl");
const GameUtility_1 = require("../../core/GameUtility");
const SceneManager_1 = require("../../gameplay/SceneManager");
const PlayerControl_1 = require("../../script/other/PlayerControl");
var STEP;
(function (STEP) {
    STEP[STEP["NONE"] = -1] = "NONE";
    STEP[STEP["TITLE"] = 0] = "TITLE";
    STEP[STEP["WAIT_SE_END"] = 1] = "WAIT_SE_END";
    STEP[STEP["FADE_WAIT"] = 2] = "FADE_WAIT";
    STEP[STEP["NUM"] = 3] = "NUM";
})(STEP || (STEP = {}));
;
class TitleView extends Laya.Script {
    constructor() {
        super(...arguments);
        this.step = STEP.NONE;
        this.nextStep = STEP.NONE;
        this.stepTimer = 0.0;
        this.TITLE_ANIME_TIME = 0.1;
        this.FADE_TIME = 1.0;
    }
    onAwake() {
        this.fader = GameUtility_1.default.getChildByName(this.owner, "fade").getComponent(FadeControl_1.default);
        this.startImg = GameUtility_1.default.getChildByName(this.owner, "start");
    }
    onKeyDown(e) {
    }
    onStart() {
        // PlayerControl player = GameObject.FindGameObjectWithTag("Player").GetComponent<PlayerControl>();
        // player.UnPlayable();
        this.nextStep = STEP.TITLE;
        this.fader.fade(this.FADE_TIME, new Laya.Color(0.0, 0.0, 0.0, 1.0), new Laya.Color(0.0, 0.0, 0.0, 0.0));
    }
    onClick(e) {
        if (this.step == STEP.TITLE) {
            //this.nextStep = STEP.WAIT_SE_END;
            let player = GameUtility_1.default.getChildByName(SceneManager_1.default.instance.getActive3DScene(), "Player").getComponent(PlayerControl_1.default);
            player.normalAttack();
        }
    }
    onMouseDown(e) {
        let player = GameUtility_1.default.getChildByName(SceneManager_1.default.instance.getActive3DScene(), "Player").getComponent(PlayerControl_1.default);
        player.startSpecialAttack();
    }
    onMouseUp(e) {
        let player = GameUtility_1.default.getChildByName(SceneManager_1.default.instance.getActive3DScene(), "Player").getComponent(PlayerControl_1.default);
        player.stopSpecialAttack();
    }
    onUpdate() {
        this.stepTimer += Laya.timer.delta * 0.001;
        switch (this.step) {
            case STEP.FADE_WAIT:
                {
                    if (!this.fader.isActive()) {
                        console.log("load next scene");
                        //UnityEngine.SceneManagement.SceneManager.LoadScene("GameScene");
                    }
                }
                break;
        }
        if (this.nextStep != STEP.NONE) {
            switch (this.nextStep) {
                case STEP.WAIT_SE_END:
                    {
                        Laya.SoundManager.playSound("sound/oni_system01.wav", 1, new Laya.Handler(null, () => {
                            this.fader.fade(this.FADE_TIME, new Laya.Color(0.0, 0.0, 0.0, 0.0), new Laya.Color(0.0, 0.0, 0.0, 1.0));
                            this.nextStep = STEP.FADE_WAIT;
                        }));
                    }
                    break;
            }
            this.step = this.nextStep;
            this.nextStep = STEP.NONE;
            this.stepTimer = 0.0;
        }
        switch (this.step) {
            case STEP.WAIT_SE_END:
                {
                    let rate = this.stepTimer / this.TITLE_ANIME_TIME;
                    if (rate > 1) {
                        rate = 1;
                    }
                    let scale = Laya.MathUtil.lerp(2.0, 1.0, rate);
                    this.startImg.scale(scale, scale);
                }
                break;
        }
    }
}
exports.default = TitleView;
},{"../../core/GameUtility":4,"../../gameplay/SceneManager":9,"../../script/other/PlayerControl":14,"../extend/FadeControl":16}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL0xheWFBaXJJREUvcmVzb3VyY2VzL2FwcC9ub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwic3JjL0dhbWVDb25maWcudHMiLCJzcmMvTWFpbi50cyIsInNyYy9jb3JlL0FwcGxpY2F0aW9uLnRzIiwic3JjL2NvcmUvR2FtZVV0aWxpdHkudHMiLCJzcmMvY29yZS9NYXRoVXRpbGl0eS50cyIsInNyYy9jb3JlL1NpbmdsZXRvbi50cyIsInNyYy9nYW1lcGxheS9HYW1lLnRzIiwic3JjL2dhbWVwbGF5L1BoeXNpY3NVdGlsaXR5LnRzIiwic3JjL2dhbWVwbGF5L1NjZW5lTWFuYWdlci50cyIsInNyYy9zY3JpcHQvb3RoZXIvQXR0YWNrQ29sbGlkZXJDb250cm9sLnRzIiwic3JjL3NjcmlwdC9vdGhlci9DYW1lcmFDb250cm9sLnRzIiwic3JjL3NjcmlwdC9vdGhlci9GbG9vckNvbnRyb2wudHMiLCJzcmMvc2NyaXB0L290aGVyL1BsYXllckFuaW1hdGlvbkV2ZW50Q29udHJvbC50cyIsInNyYy9zY3JpcHQvb3RoZXIvUGxheWVyQ29udHJvbC50cyIsInNyYy9zY3JpcHQvc2NlbmUvVGl0bGVTY2VuZUNvbnRyb2wudHMiLCJzcmMvdWlzY3JpcHQvZXh0ZW5kL0ZhZGVDb250cm9sLnRzIiwic3JjL3Vpc2NyaXB0L3ZpZXcvVGl0bGVWaWV3LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ1ZBLGdHQUFnRztBQUNoRywrREFBdUQ7QUFDdkQ7O0VBRUU7QUFDRjtJQWFJLGdCQUFjLENBQUM7SUFDZixNQUFNLENBQUMsSUFBSTtRQUNQLElBQUksR0FBRyxHQUFhLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDO1FBQzdDLEdBQUcsQ0FBQyxnQ0FBZ0MsRUFBQyxxQkFBVyxDQUFDLENBQUM7SUFDdEQsQ0FBQzs7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LENBQUMsR0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFDeEIsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFFLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQyxHQUFFLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQyxHQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDckMsQ0FBQztJQUVNLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBVSxFQUFFLENBQVUsRUFBRSxDQUFVO1FBQ3hELElBQUksRUFBRSxHQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUMsRUFBRSxHQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUMsRUFBRSxHQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUMsRUFBRSxHQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUMsRUFBRSxHQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUMsRUFBRSxHQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDOUMsQ0FBQyxDQUFDLENBQUMsR0FBQyxFQUFFLEdBQUUsRUFBRSxHQUFDLEVBQUUsR0FBRSxFQUFFLENBQUM7UUFDbEIsQ0FBQyxDQUFDLENBQUMsR0FBQyxFQUFFLEdBQUUsRUFBRSxHQUFDLEVBQUUsR0FBRSxFQUFFLENBQUM7UUFDbEIsQ0FBQyxDQUFDLENBQUMsR0FBQyxFQUFFLEdBQUUsRUFBRSxHQUFDLEVBQUUsR0FBRSxFQUFFLENBQUM7SUFDbkIsQ0FBQztJQUVNLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBVSxFQUFFLENBQVU7UUFDdkMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN0QyxDQUFDO0lBRU0sTUFBTSxDQUFDLGVBQWUsQ0FBQyxNQUFlLEVBQUUsTUFBZTtRQUNoRSxJQUFJ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LENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDOzRCQUN4RyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7d0JBQ25DLENBQUMsQ0FBQyxDQUFDLENBQUM7cUJBQ1A7b0JBQ0QsTUFBTTthQUNiO1lBRUQsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO1lBQzFCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztZQUUxQixJQUFJLENBQUMsU0FBUyxHQUFHLEdBQUcsQ0FBQztTQUN4QjtRQUVELFFBQVEsSUFBSSxDQUFDLElBQUksRUFBRTtZQUNmLEtBQUssSUFBSSxDQUFDLFdBQVc7Z0JBQUU7b0JBQ2YsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUM7b0JBQ2xELElBQUksSUFBSSxHQUFHLENBQUMsRUFBRTt3QkFDVixJQUFJLEdBQUcsQ0FBQyxDQUFDO3FCQUNaO29CQUNELElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUM7b0JBQy9DLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztpQkFDckM7Z0JBQ0QsTUFBTTtTQUNiO0lBQ0wsQ0FBQztDQUNKO0FBM0ZELDRCQTJGQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIvKipUaGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IExheWFBaXJJREUsIHBsZWFzZSBkbyBub3QgbWFrZSBhbnkgbW9kaWZpY2F0aW9ucy4gKi9cclxuaW1wb3J0IEZhZGVDb250cm9sIGZyb20gXCIuL3Vpc2NyaXB0L2V4dGVuZC9GYWRlQ29udHJvbFwiXHJcbi8qXHJcbiog5ri45oiP5Yid5aeL5YyW6YWN572uO1xyXG4qL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lQ29uZmlne1xyXG4gICAgc3RhdGljIHdpZHRoOm51bWJlcj02NDA7XHJcbiAgICBzdGF0aWMgaGVpZ2h0Om51bWJlcj0xMTM2O1xyXG4gICAgc3RhdGljIHNjYWxlTW9kZTpzdHJpbmc9XCJmaXhlZHdpZHRoXCI7XHJcbiAgICBzdGF0aWMgc2NyZWVuTW9kZTpzdHJpbmc9XCJub25lXCI7XHJcbiAgICBzdGF0aWMgYWxpZ25WOnN0cmluZz1cInRvcFwiO1xyXG4gICAgc3RhdGljIGFsaWduSDpzdHJpbmc9XCJsZWZ0XCI7XHJcbiAgICBzdGF0aWMgc3RhcnRTY2VuZTphbnk9XCJ2aWV3L1RpdGxlVmlldy5zY2VuZVwiO1xyXG4gICAgc3RhdGljIHNjZW5lUm9vdDpzdHJpbmc9XCJcIjtcclxuICAgIHN0YXRpYyBkZWJ1Zzpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIHN0YXQ6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBwaHlzaWNzRGVidWc6Ym9vbGVhbj10cnVlO1xyXG4gICAgc3RhdGljIGV4cG9ydFNjZW5lVG9Kc29uOmJvb2xlYW49dHJ1ZTtcclxuICAgIGNvbnN0cnVjdG9yKCl7fVxyXG4gICAgc3RhdGljIGluaXQoKXtcclxuICAgICAgICB2YXIgcmVnOiBGdW5jdGlvbiA9IExheWEuQ2xhc3NVdGlscy5yZWdDbGFzcztcclxuICAgICAgICByZWcoXCJ1aXNjcmlwdC9leHRlbmQvRmFkZUNvbnRyb2wudHNcIixGYWRlQ29udHJvbCk7XHJcbiAgICB9XHJcbn1cclxuR2FtZUNvbmZpZy5pbml0KCk7IiwiaW1wb3J0IEdhbWVDb25maWcgZnJvbSBcIi4vR2FtZUNvbmZpZ1wiO1xyXG5pbXBvcnQgQXBwbGljYXRpb24gZnJvbSBcIi4vY29yZS9BcHBsaWNhdGlvblwiO1xyXG5jbGFzcyBNYWluIHtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdC8v5qC55o2uSURF6K6+572u5Yid5aeL5YyW5byV5pOOXHRcdFxyXG5cdFx0aWYgKHdpbmRvd1tcIkxheWEzRFwiXSkgTGF5YTNELmluaXQoR2FtZUNvbmZpZy53aWR0aCwgR2FtZUNvbmZpZy5oZWlnaHQpO1xyXG5cdFx0ZWxzZSBMYXlhLmluaXQoR2FtZUNvbmZpZy53aWR0aCwgR2FtZUNvbmZpZy5oZWlnaHQsIExheWFbXCJXZWJHTFwiXSk7XHJcblx0XHRMYXlhW1wiUGh5c2ljc1wiXSAmJiBMYXlhW1wiUGh5c2ljc1wiXS5lbmFibGUoKTtcclxuXHRcdExheWFbXCJEZWJ1Z1BhbmVsXCJdICYmIExheWFbXCJEZWJ1Z1BhbmVsXCJdLmVuYWJsZSgpO1xyXG5cdFx0TGF5YS5zdGFnZS5zY2FsZU1vZGUgPSBHYW1lQ29uZmlnLnNjYWxlTW9kZTtcclxuXHRcdExheWEuc3RhZ2Uuc2NyZWVuTW9kZSA9IEdhbWVDb25maWcuc2NyZWVuTW9kZTtcclxuXHRcdExheWEuc3RhZ2UuYWxpZ25WID0gR2FtZUNvbmZpZy5hbGlnblY7XHJcblx0XHRMYXlhLnN0YWdlLmFsaWduSCA9IEdhbWVDb25maWcuYWxpZ25IO1xyXG5cdFx0Ly/lhbzlrrnlvq7kv6HkuI3mlK/mjIHliqDovb1zY2VuZeWQjue8gOWcuuaZr1xyXG5cdFx0TGF5YS5VUkwuZXhwb3J0U2NlbmVUb0pzb24gPSBHYW1lQ29uZmlnLmV4cG9ydFNjZW5lVG9Kc29uO1xyXG5cclxuXHRcdC8v5omT5byA6LCD6K+V6Z2i5p2/77yI6YCa6L+HSURF6K6+572u6LCD6K+V5qih5byP77yM5oiW6ICFdXJs5Zyw5Z2A5aKe5YqgZGVidWc9dHJ1ZeWPguaVsO+8jOWdh+WPr+aJk+W8gOiwg+ivlemdouadv++8iVxyXG5cdFx0aWYgKEdhbWVDb25maWcuZGVidWcgfHwgTGF5YS5VdGlscy5nZXRRdWVyeVN0cmluZyhcImRlYnVnXCIpID09IFwidHJ1ZVwiKSBMYXlhLmVuYWJsZURlYnVnUGFuZWwoKTtcclxuXHRcdGlmIChHYW1lQ29uZmlnLnBoeXNpY3NEZWJ1ZyAmJiBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXSkgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0uZW5hYmxlKCk7XHJcblx0XHRpZiAoR2FtZUNvbmZpZy5zdGF0KSBMYXlhLlN0YXQuc2hvdygpO1xyXG5cdFx0TGF5YS5hbGVydEdsb2JhbEVycm9yID0gdHJ1ZTtcclxuXHJcblx0XHQvL+a/gOa0u+i1hOa6kOeJiOacrOaOp+WItu+8jHZlcnNpb24uanNvbueUsUlEReWPkeW4g+WKn+iDveiHquWKqOeUn+aIkO+8jOWmguaenOayoeacieS5n+S4jeW9seWTjeWQjue7rea1geeoi1xyXG5cdFx0TGF5YS5SZXNvdXJjZVZlcnNpb24uZW5hYmxlKFwidmVyc2lvbi5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vblZlcnNpb25Mb2FkZWQpLCBMYXlhLlJlc291cmNlVmVyc2lvbi5GSUxFTkFNRV9WRVJTSU9OKTtcclxuXHR9XHJcblxyXG5cdG9uVmVyc2lvbkxvYWRlZCgpOiB2b2lkIHtcclxuXHRcdC8v5r+A5rS75aSn5bCP5Zu+5pig5bCE77yM5Yqg6L295bCP5Zu+55qE5pe25YCZ77yM5aaC5p6c5Y+R546w5bCP5Zu+5Zyo5aSn5Zu+5ZCI6ZuG6YeM6Z2i77yM5YiZ5LyY5YWI5Yqg6L295aSn5Zu+5ZCI6ZuG77yM6ICM5LiN5piv5bCP5Zu+XHJcblx0XHRMYXlhLkF0bGFzSW5mb01hbmFnZXIuZW5hYmxlKFwiZmlsZWNvbmZpZy5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vbkNvbmZpZ0xvYWRlZCkpO1xyXG5cdH1cclxuXHJcblx0b25Db25maWdMb2FkZWQoKTogdm9pZCB7XHJcblx0XHQvL+WKoOi9vUlEReaMh+WumueahOWcuuaZr1xyXG5cdFx0Ly9HYW1lQ29uZmlnLnN0YXJ0U2NlbmUgJiYgTGF5YS5TY2VuZS5vcGVuKEdhbWVDb25maWcuc3RhcnRTY2VuZSk7XHJcblxyXG5cdFx0QXBwbGljYXRpb24uaW5zdGFuY2U7XHJcblx0XHRMYXlhLnRpbWVyLmZyYW1lTG9vcCgxLCBudWxsLCAoKSA9PiB7XHJcblx0XHRcdEFwcGxpY2F0aW9uLmluc3RhbmNlLnVwZGF0ZSgpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG59XHJcbi8v5r+A5rS75ZCv5Yqo57G7XHJcbm5ldyBNYWluKCk7XHJcbiIsImltcG9ydCBTaW5nbGV0b24gZnJvbSBcIi4vU2luZ2xldG9uXCI7XHJcbmltcG9ydCBUaXRsZVNjZW5lQ29udHJvbCBmcm9tIFwiLi4vc2NyaXB0L3NjZW5lL1RpdGxlU2NlbmVDb250cm9sXCI7XHJcbmltcG9ydCBTY2VuZU1hbmFnZXIgZnJvbSBcIi4uL2dhbWVwbGF5L1NjZW5lTWFuYWdlclwiO1xyXG5pbXBvcnQgVGl0bGVWaWV3IGZyb20gXCIuLi91aXNjcmlwdC92aWV3L1RpdGxlVmlld1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBwbGljYXRpb24ge1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgSVNfRFJBV19ERUJVR19GTE9PUl9NT0RFTDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpOiBBcHBsaWNhdGlvbiB7XHJcbiAgICAgICAgcmV0dXJuIFNpbmdsZXRvbi5nZXRJbnN0YW5jZTxBcHBsaWNhdGlvbj4oQXBwbGljYXRpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuaW5pdCgpOyAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGluaXQoKTogdm9pZCB7XHJcbiAgICAgICAgU2NlbmVNYW5hZ2VyLmluc3RhbmNlLmluaXQoKTtcclxuICAgICAgICBTY2VuZU1hbmFnZXIuaW5zdGFuY2UubG9hZFNlbmNlM0QoXCIzZHJlcy9MYXlhU2NlbmVfVGl0bGVTY2VuZV9MYXlhL0NvbnZlbnRpb25hbC9UaXRsZVNjZW5lX0xheWEubHNcIikudGhlbihzID0+IHtcclxuICAgICAgICAgICAgU2NlbmVNYW5hZ2VyLmluc3RhbmNlLnNldEFjdGl2ZTNEU2NlbmUocyk7XHJcbiAgICAgICAgICAgIChzIGFzIExheWEuU2NlbmUzRCkuYWRkQ29tcG9uZW50KFRpdGxlU2NlbmVDb250cm9sKTsgICAgICBcclxuICAgICAgICB9KVxyXG4gICAgICAgIFNjZW5lTWFuYWdlci5pbnN0YW5jZS5sb2FkU2VuY2UoXCJ2aWV3L1RpdGxlVmlldy5zY2VuZVwiKS50aGVuKHMgPT4ge1xyXG4gICAgICAgICAgICAocyBhcyBMYXlhLlNjZW5lKS5hZGRDb21wb25lbnQoVGl0bGVWaWV3KTtcclxuICAgICAgICAgICAgKHMgYXMgTGF5YS5TY2VuZSkub3BlbigpOyAgICAgXHJcbiAgICAgICAgfSkgICAgXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSgpOiB2b2lkIHtcclxuXHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lVXRpbGl0eSB7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRDaGlsZEJ5TmFtZTxUIGV4dGVuZHMgTGF5YS5Ob2RlPihyb290OiBMYXlhLk5vZGUsIG5hbWU6IHN0cmluZyk6IFQge1xyXG4gICAgICAgIGxldCByb290Q3RybCA9IHJvb3QgYXMgTGF5YS5Ob2RlO1xyXG4gICAgICAgIGlmIChyb290Q3RybC5uYW1lID09IG5hbWUpXHJcbiAgICAgICAgICAgIHJldHVybiByb290Q3RybCBhcyBUO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJvb3RDdHJsLm51bUNoaWxkcmVuOyArK2kpIHtcclxuICAgICAgICAgICAgbGV0IGN0cmwgPSBHYW1lVXRpbGl0eS5nZXRDaGlsZEJ5TmFtZShyb290Q3RybC5nZXRDaGlsZEF0KGkpLCBuYW1lKTtcclxuICAgICAgICAgICAgaWYgKGN0cmwgIT0gbnVsbClcclxuICAgICAgICAgICAgICAgIHJldHVybiBjdHJsIGFzIFQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0Q3RybEJ5QnJlYWR0aDxUIGV4dGVuZHMgTGF5YS5Ob2RlPihyb290OiBMYXlhLk5vZGUsIG5hbWU6IHN0cmluZywgbWF4U2VhcmNoRGVwdGg6IG51bWJlciA9IDUpOiBUIHtcclxuICAgICAgICBpZiAobmFtZSA9PSByb290Lm5hbWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJvb3QgYXMgVDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByb290Lm51bUNoaWxkcmVuOyArK2kpIHtcclxuICAgICAgICAgICAgbGV0IGN0cmw6IFQgPSBHYW1lVXRpbGl0eS5nZXRDb250cm9sQkZTKHJvb3QsIG5hbWUsIGkpO1xyXG4gICAgICAgICAgICBpZiAoY3RybCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGN0cmw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgZ2V0Q29udHJvbEJGUzxUIGV4dGVuZHMgTGF5YS5Ob2RlPihyb290OiBMYXlhLk5vZGUsIG5hbWU6IHN0cmluZywgdGFyZ2V0RGVwdGgpOiBUIHtcclxuICAgICAgICBpZiAodGFyZ2V0RGVwdGggPT0gMCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJvb3QubnVtQ2hpbGRyZW47ICsraSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJvb3QuZ2V0Q2hpbGRBdChpKS5uYW1lID09IG5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcm9vdC5nZXRDaGlsZEF0KGkpIGFzIFQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByb290Lm51bUNoaWxkcmVuOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIGxldCBjdHJsID0gR2FtZVV0aWxpdHkuZ2V0Q29udHJvbEJGUyhyb290LmdldENoaWxkQXQoaSksIG5hbWUsIHRhcmdldERlcHRoIC0gMSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3RybCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjdHJsIGFzIFQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0Q2hpbGRCeVBhdGg8VCBleHRlbmRzIExheWEuTm9kZT4ocm9vdDogTGF5YS5Ob2RlLCBwYXRoOiBzdHJpbmdbXSk6IFQge1xyXG4gICAgICAgIGxldCByZXVzbHQgPSByb290O1xyXG4gICAgICAgIGZvciAobGV0IG4gb2YgcGF0aCkge1xyXG4gICAgICAgICAgICByZXVzbHQgPSBHYW1lVXRpbGl0eS5nZXRDaGlsZEJ5TmFtZShyZXVzbHQsIG4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmV1c2x0IGFzIFQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRDaGlsZEF0PFQgZXh0ZW5kcyBMYXlhLk5vZGU+KHJvb3Q6IExheWEuTm9kZSwgaWR4OiBudW1iZXIpOiBUIHtcclxuICAgICAgICByZXR1cm4gcm9vdC5nZXRDaGlsZEF0KGlkeCkgYXMgVDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHBhcnNlVGFnSW5kZXgobmFtZTogc3RyaW5nLCB0YWc6IHN0cmluZyk6IG51bWJlciB7XHJcblxyXG4gICAgICAgIGxldCBwb3M6IG51bWJlciA9IG5hbWUuc2VhcmNoKHRhZyk7XHJcbiAgICAgICAgaWYgKHBvcyA9PSAtMSlcclxuICAgICAgICAgICAgcmV0dXJuIHBvcztcclxuXHJcbiAgICAgICAgbGV0IHN1YlN0ciA9IG5hbWUuc3Vic3RyKHRhZy5sZW5ndGgpO1xyXG4gICAgICAgIGlmIChzdWJTdHIubGVuZ3RoID09IDApXHJcbiAgICAgICAgICAgIHJldHVybiAtMTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaTogbnVtYmVyID0gMDsgaSA8IHN1YlN0ci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoc3ViU3RyW2ldIDwgJzAnIHx8IHN1YlN0cltpXSA+ICc5JylcclxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBOdW1iZXIoc3ViU3RyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGZvcm1hdEZ1bmR0cmluZyh2YWw6IG51bWJlcik6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IGZlZSA9IDAuMDtcclxuICAgICAgICBsZXQgc3RyRGFud2VpOiBzdHJpbmc7XHJcbiAgICAgICAgaWYgKE1hdGguZmxvb3IodmFsIC8gMTAwMDAwMDAwMDAwMCkgPiAwKSAge1xyXG4gICAgICAgICAgICBmZWUgPSB2YWwgLyAxMDAwMDAwMDAwMDAwO1xyXG4gICAgICAgICAgICBzdHJEYW53ZWkgPSBcIkVcIjtcclxuICAgICAgICB9IGVsc2UgaWYgKE1hdGguZmxvb3IodmFsIC8gMTAwMDAwMDAwMCkgPiAwKSAge1xyXG4gICAgICAgICAgICBmZWUgPSB2YWwgLyAxMDAwMDAwMDAwO1xyXG4gICAgICAgICAgICBzdHJEYW53ZWkgPSBcIkJcIjtcclxuICAgICAgICB9IGVsc2UgaWYgKE1hdGguZmxvb3IodmFsIC8gMTAwMDAwMCkgPiAwKSAge1xyXG4gICAgICAgICAgICBmZWUgPSB2YWwgLyAxMDAwMDAwO1xyXG4gICAgICAgICAgICBzdHJEYW53ZWkgPSBcIk1cIjtcclxuXHJcbiAgICAgICAgfSBlbHNlIGlmIChNYXRoLmZsb29yKHZhbCAvIDEwMDApID4gMCkgIHtcclxuICAgICAgICAgICAgZmVlID0gdmFsIC8gMTAwMDtcclxuICAgICAgICAgICAgc3RyRGFud2VpID0gXCJLXCI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZmVlID0gdmFsO1xyXG4gICAgICAgICAgICBzdHJEYW53ZWkgPSBcIlwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGZlZSA+IDk5OSkgIHtcclxuICAgICAgICAgICAgZmVlID0gOTk5O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHJlc3VsdDogc3RyaW5nID0gZmVlLnRvUHJlY2lzaW9uKDMpO1xyXG4gICAgICAgIHJlc3VsdCArPSBzdHJEYW53ZWk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHVpbnRpOEFycmF5VG9TdHJpbmcoYXJyOiBVaW50OEFycmF5KTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgYnl0ZSA9IG5ldyBMYXlhLkJ5dGUoYXJyKTtcclxuICAgICAgICAvLyBpZiAoYnl0ZS5sZW5ndGggPj0gMikge1xyXG4gICAgICAgIC8vICAgICByZXR1cm4gYnl0ZS5yZWFkU3RyaW5nKCk7XHJcbiAgICAgICAgLy8gfSBlbHNlIHtcclxuICAgICAgICAvLyAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIHJldHVybiBieXRlLnJlYWRVVEZCeXRlcygpOyAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBzdHJpbmdUb1VpbnRpOEFycmF5KHN0cjogc3RyaW5nKTogVWludDhBcnJheSB7XHJcbiAgICAgICAgbGV0IGJ5dGUgPSBuZXcgTGF5YS5CeXRlKCk7XHJcbiAgICAgICAgYnl0ZS53cml0ZVVURkJ5dGVzKHN0cik7XHJcbiAgICAgICAgcmV0dXJuIGJ5dGUucmVhZFVpbnQ4QXJyYXkoMCwgYnl0ZS5sZW5ndGgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgc3dpdGNoVGV4dHVyZShvYmo6IExheWEuTm9kZSwgdGV4dHVyZVBhdGg6IHN0cmluZywgaXNDaGFuZ2VUZXh0dXJlU2l6ZTogYm9vbGVhbiA9IGZhbHNlKSB7XHJcbiAgICAgICAgaWYgKG9iaiA9PSBudWxsKSBcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGlmIChvYmogaW5zdGFuY2VvZiBMYXlhLkltYWdlKSB7XHJcbiAgICAgICAgICAgIG9iai5za2luID0gdGV4dHVyZVBhdGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYob2JqIGluc3RhbmNlb2YgTGF5YS5TcHJpdGUpIHtcclxuICAgICAgICAgICAgb2JqLmdyYXBoaWNzLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlOiBMYXlhLlRleHR1cmUgPSBMYXlhLmxvYWRlci5nZXRSZXModGV4dHVyZVBhdGgpO1xyXG4gICAgICAgICAgICBpZiAoIXRleHR1cmUpXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIiA9PT0gOiBcIiArIHRleHR1cmVQYXRoKTtcclxuXHJcbiAgICAgICAgICAgIG9iai5sb2FkSW1hZ2UodGV4dHVyZVBhdGgpO1xyXG4gICAgICAgICAgICBpZiAoaXNDaGFuZ2VUZXh0dXJlU2l6ZSAmJiB0ZXh0dXJlKVxyXG4gICAgICAgICAgICAgICAgb2JqLnNpemUodGV4dHVyZS53aWR0aCwgdGV4dHVyZS5oZWlnaHQpO1xyXG4gICAgICAgIH0gXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRDaGlsZEluZGV4QnlOYW1lKG9iajogTGF5YS5Ob2RlLCBuYW1lOiBzdHJpbmcpOiBudW1iZXIge1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9iai5udW1DaGlsZHJlbjsgKytpKSB7XHJcbiAgICAgICAgICAgIGxldCBjdHJsID0gb2JqLmdldENoaWxkQXQoaSk7XHJcbiAgICAgICAgICAgIGlmIChjdHJsLm5hbWUgPT0gbmFtZSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgc3dhcDxUPihhcnI6IFRbXSwgaWR4MTogbnVtYmVyLCBpZHgyOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICBsZXQgdGVtcCA9IGFycltpZHgxXTtcclxuICAgICAgICBhcnJbaWR4MV0gPSBhcnJbaWR4Ml07XHJcbiAgICAgICAgYXJyW2lkeDJdID0gdGVtcDsgXHJcbiAgICB9XHJcblxyXG59IiwiZXhwb3J0IGNsYXNzIFZlY3RvcjIge1xyXG5cclxuICAgIHB1YmxpYyB4OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgeTogbnVtYmVyOyAgICBcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIgPSAwLCB5OiBudW1iZXIgPSAwKSB7XHJcbiAgICAgICAgdGhpcy54ID0geDtcclxuICAgICAgICB0aGlzLnkgPSB5O1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFZlY3RvcjMge1xyXG5cclxuICAgIHB1YmxpYyB4OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgeTogbnVtYmVyO1xyXG4gICAgcHVibGljIHo6IG51bWJlcjtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIFpFUk86IFZlY3RvcjMgPSBuZXcgVmVjdG9yMygpO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHg6IG51bWJlciA9IDAsIHk6IG51bWJlciA9IDAsIHo6IG51bWJlciA9IDApIHtcclxuICAgICAgICB0aGlzLnggPSB4O1xyXG4gICAgICAgIHRoaXMueSA9IHk7XHJcbiAgICAgICAgdGhpcy56ID0gejtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIG5vcm1hbGl6ZShzOiBWZWN0b3IzLCBvdXQ6IFZlY3RvcjMpOiB2b2lkIHtcclxuXHRcdGxldCB4PXMueCx5PXMueSx6PXMuejtcclxuXHRcdGxldCBsZW49eCAqeCt5ICp5K3ogKno7XHJcblx0XHRpZiAobGVuID4gMCl7XHJcblx0XHRcdGxlbj0xIC8gTWF0aC5zcXJ0KGxlbik7XHJcblx0XHRcdG91dC54PXMueCAqbGVuO1xyXG5cdFx0XHRvdXQueT1zLnkgKmxlbjtcclxuXHRcdFx0b3V0Lno9cy56ICpsZW47XHJcblx0XHR9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBzdGF0aWMgZGlzdGFuY2UodmFsdWUxOiBWZWN0b3IzLCB2YWx1ZTI6IFZlY3RvcjMpOiBudW1iZXIge1xyXG5cdFx0bGV0IHg9dmFsdWUxLngtdmFsdWUyLng7XHJcblx0XHRsZXQgeT12YWx1ZTEueS12YWx1ZTIueTtcclxuXHRcdGxldCB6PXZhbHVlMS56LXZhbHVlMi56O1xyXG5cdFx0cmV0dXJuIE1hdGguc3FydCgoeCAqeCkrKHkgKnkpKyh6ICp6KSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBzdGF0aWMgY3Jvc3MoYTogVmVjdG9yMywgYjogVmVjdG9yMywgbzogVmVjdG9yMyk6IHZvaWQge1xyXG5cdFx0bGV0IGF4PWEueCxheT1hLnksYXo9YS56LGJ4PWIueCxieT1iLnksYno9Yi56O1xyXG5cdFx0by54PWF5ICpiei1heiAqYnk7XHJcblx0XHRvLnk9YXogKmJ4LWF4ICpiejtcclxuXHRcdG8uej1heCAqYnktYXkgKmJ4O1xyXG5cdH1cclxuXHJcblx0cHVibGljIHN0YXRpYyBkb3QoYTogVmVjdG9yMywgYjogVmVjdG9yMyk6IG51bWJlcntcclxuXHRcdHJldHVybiAoYS54ICpiLngpKyhhLnkgKmIueSkrKGEueiAqYi56KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIHN0YXRpYyBkaXN0YW5jZVNxdWFyZWQodmFsdWUxOiBWZWN0b3IzLCB2YWx1ZTI6IFZlY3RvcjMpOiBudW1iZXIge1xyXG5cdFx0dmFyIHg9dmFsdWUxLngtdmFsdWUyLng7XHJcblx0XHR2YXIgeT12YWx1ZTEueS12YWx1ZTIueTtcclxuXHRcdHZhciB6PXZhbHVlMS56LXZhbHVlMi56O1xyXG5cdFx0cmV0dXJuICh4ICp4KSsoeSAqeSkrKHogKnopO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgc3RhdGljIGFkZChhOiBWZWN0b3IzLCBiOiBWZWN0b3IzLCBvdXQ6IFZlY3RvcjMpOiB2b2lke1xyXG5cdFx0b3V0Lng9YS54K2IueDtcclxuXHRcdG91dC55PWEueStiLnk7XHJcblx0XHRvdXQuej1hLnorYi56O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgc3RhdGljIG11bHRpcGx5KGE6IFZlY3RvcjMsIGI6IFZlY3RvcjMsIG91dDogVmVjdG9yMyk6IHZvaWR7XHJcblx0XHRvdXQueD1hLnggKmIueDtcclxuXHRcdG91dC55PWEueSAqYi55O1xyXG5cdFx0b3V0Lno9YS56ICpiLno7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgbmFtZXNwYWNlIE1hdGhVdGlsaXR5IHsgICAgXHJcbiAgICBleHBvcnQgbW9kdWxlIFYzIHtcclxuICAgICAgICBleHBvcnQgZnVuY3Rpb24gYWRkKHYxOiBWZWN0b3IzLCB2MjogVmVjdG9yMyk6IFZlY3RvcjMge1xyXG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gbmV3IFZlY3RvcjMoKTtcclxuICAgICAgICAgICAgVmVjdG9yMy5hZGQodjEsIHYyLCByZXN1bHQpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZXhwb3J0IGZ1bmN0aW9uIG1pbnVzKHYxOiBWZWN0b3IzLCB2MjogVmVjdG9yMyk6IFZlY3RvcjMge1xyXG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5hZGQodjEsIG11bHRpcGx5KHYyLCAtMSkpOyAgICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KHYxOiBWZWN0b3IzLCB2MjogVmVjdG9yMyk6IFZlY3RvcjM7XHJcbiAgICAgICAgZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KHY6IFZlY3RvcjMsIG06IG51bWJlcik6IFZlY3RvcjM7XHJcblxyXG4gICAgICAgIGV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseSguLi5hcmdzOiBhbnlbXSk6IFZlY3RvcjMge1xyXG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gbmV3IFZlY3RvcjMoKTtcclxuICAgICAgICAgICAgaWYodHlwZW9mIGFyZ3NbMV0gPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnggPSBhcmdzWzBdLnggKiBhcmdzWzFdO1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnkgPSBhcmdzWzBdLnkgKiBhcmdzWzFdO1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnogPSBhcmdzWzBdLnogKiBhcmdzWzFdO1xyXG4gICAgICAgICAgICB9IGVsc2UgeyAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIFZlY3RvcjMubXVsdGlwbHkoYXJnc1swXSwgYXJnc1sxXSwgcmVzdWx0KTtcclxuICAgICAgICAgICAgfSAgICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH0gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBtb2R1bGUgVjIge1xyXG4gICAgICAgIGV4cG9ydCBsZXQgUmlnaHQ6IFZlY3RvcjIgPSBuZXcgVmVjdG9yMigxLCAwKTtcclxuICAgICAgICBcclxuICAgICAgICBleHBvcnQgZnVuY3Rpb24gYW5nbGUodjE6IFZlY3RvcjIsIHYyOiBWZWN0b3IyKTogbnVtYmVyIHtcclxuICAgICAgICAgICAgbGV0IHYxVGVtcCA9IG5ldyBWZWN0b3IzKHYxLngsIHYxLnkpO1xyXG4gICAgICAgICAgICBsZXQgdjJUZW1wID0gbmV3IFZlY3RvcjModjIueCwgdjIueSk7XHJcbiAgICAgICAgICAgIFZlY3RvcjMubm9ybWFsaXplKHYxVGVtcCwgdjFUZW1wKTtcclxuICAgICAgICAgICAgVmVjdG9yMy5ub3JtYWxpemUodjJUZW1wLCB2MlRlbXApO1xyXG4gICAgICAgICAgICBsZXQgZG90ID0gVmVjdG9yMy5kb3QodjFUZW1wLCB2MlRlbXApO1xyXG4gICAgICAgICAgICBsZXQgdG1wID0gbmV3IFZlY3RvcjMoKTtcclxuICAgICAgICAgICAgVmVjdG9yMy5jcm9zcyh2MVRlbXAsIHYyVGVtcCwgdG1wKTtcclxuICAgICAgICAgICAgaWYgKHRtcC56ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguYWNvcyhkb3QpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDIgKiBNYXRoLlBJIC0gTWF0aC5hY29zKGRvdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGNsYW1wKHZhbHVlOiBudW1iZXIsIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgaWYgKHZhbHVlIDwgbWluKSB7XHJcbiAgICAgICAgICAgIHZhbHVlID0gbWluO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodmFsdWUgPiBtYXgpIHtcclxuICAgICAgICAgICAgdmFsdWUgPSBtYXg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZW51bSBEaXJlY3Rpb24ge1xyXG4gICAgICAgIExlZnQsXHJcbiAgICAgICAgUmlnaHQsXHJcbiAgICAgICAgRG93bixcclxuICAgICAgICBVcFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gaXNQb2ludEluc2lkZShyZWN0OiBMYXlhLlJlY3RhbmdsZSwgcG9pbnQ6IExheWEuUG9pbnQpOiBib29sZWFuIHsgICAgICAgIFxyXG4gICAgICAgIHJldHVybiBwb2ludC54ID4gcmVjdC54ICYmIHBvaW50LnkgPiByZWN0LnkgJiYgcG9pbnQueCA8IChyZWN0LnggKyByZWN0LndpZHRoKSAmJiBwb2ludC55IDwgKHJlY3QueSArIHJlY3QuaGVpZ2h0KTtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gaW52ZXJzZUxlcnAoZnJvbTogbnVtYmVyLCB0bzogbnVtYmVyLCB2OiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiBjbGFtcCh2IC8gKHRvIC0gZnJvbSksIDAsIDEpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2luZ2xldG9uIHtcclxuICAgIFxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IFNpbmdsZXRvbjtcclxuXHJcbiAgICBwcml2YXRlIG1hcDogeyBba2V5OnN0cmluZ106YW55IH0gPSB7fTtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlPFQ+KGNsYXM6IGFueSk6IFQge1xyXG4gICAgICAgIGlmKFNpbmdsZXRvbi5pbnN0YW5jZSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIFNpbmdsZXRvbi5pbnN0YW5jZSA9IG5ldyBTaW5nbGV0b24oKTtcclxuICAgICAgICB9ICAgXHJcbiAgICAgICAgbGV0IGNsYXNzTmFtZSA9IGNsYXMgYXMgc3RyaW5nO1xyXG4gICAgICAgIGxldCBvYmogPSBTaW5nbGV0b24uaW5zdGFuY2UubWFwW2NsYXNzTmFtZV07XHJcbiAgICAgICAgaWYob2JqID09IG51bGwpIHtcclxuICAgICAgICAgICAgU2luZ2xldG9uLmluc3RhbmNlLm1hcFtjbGFzc05hbWVdID0gbmV3IGNsYXMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICA8VD5TaW5nbGV0b24uaW5zdGFuY2UubWFwW2NsYXNzTmFtZV07XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFNpbmdsZXRvbiBmcm9tIFwiLi4vY29yZS9TaW5nbGV0b25cIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWUge1xyXG5cclxuICAgIHB1YmxpYyBJU19EUkFXX1BMQVlFUl9BVFRBQ0tfQ09MTElTSU9OOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBnZXQgaW5zdGFuY2UoKTogR2FtZSB7XHJcbiAgICAgICAgcmV0dXJuIFNpbmdsZXRvbi5nZXRJbnN0YW5jZTxHYW1lPihHYW1lKTtcclxuICAgIH1cclxufSIsImV4cG9ydCBuYW1lc3BhY2UgUGh5c2ljc1V0aWxpdHkge1xyXG4gICAgZXhwb3J0IGNvbnN0IFBMQVlFUl9MQVlFUiA9IExheWEuUGh5c2ljczNEVXRpbHMuQ09MTElTSU9ORklMVEVSR1JPVVBfQ1VTVE9NRklMVEVSMTtcclxuICAgIGV4cG9ydCBjb25zdCBFTlZfTEFZRVIgPSBMYXlhLlBoeXNpY3MzRFV0aWxzLkNPTExJU0lPTkZJTFRFUkdST1VQX0NVU1RPTUZJTFRFUjI7XHJcbiAgICBleHBvcnQgY29uc3QgRU5FTVlfTEFZRVIgPSBMYXlhLlBoeXNpY3MzRFV0aWxzLkNPTExJU0lPTkZJTFRFUkdST1VQX0NVU1RPTUZJTFRFUjM7XHJcbn0iLCJpbXBvcnQgU2luZ2xldG9uIGZyb20gXCIuLi9jb3JlL1NpbmdsZXRvblwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2NlbmVNYW5hZ2VyIHtcclxuXHJcbiAgICBwcml2YXRlIHRocmVlRFNjZW5lczogTGF5YS5TY2VuZTNEW10gPSBbXVxyXG4gICAgcHJpdmF0ZSBhY3RpdmUzRFNjZW5lOiBMYXlhLlNjZW5lM0Q7XHJcblxyXG4gICAgcHJpdmF0ZSBhY3RpdmVWaWV3OiBMYXlhLlZpZXc7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBnZXQgaW5zdGFuY2UoKTogU2NlbmVNYW5hZ2VyIHtcclxuICAgICAgICByZXR1cm4gU2luZ2xldG9uLmdldEluc3RhbmNlPFNjZW5lTWFuYWdlcj4oU2NlbmVNYW5hZ2VyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0QWN0aXZlM0RTY2VuZShzOiBMYXlhLlNjZW5lM0QpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmFjdGl2ZTNEU2NlbmUgPSBzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRBY3RpdmUzRFNjZW5lKCk6IExheWEuU2NlbmUzRCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlM0RTY2VuZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0QWN0aXZlVmlldyhzOiBMYXlhLlZpZXcpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmFjdGl2ZVZpZXcgPSBzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRBY3RpdmVWaWV3KCk6IExheWEuVmlldyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlVmlldztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbG9hZFNlbmNlM0QodXJsOiBzdHJpbmcpOiBQcm9taXNlPExheWEuU2NlbmUzRD4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxhbnk+KChyb3NvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgTGF5YS5TY2VuZTNELmxvYWQodXJsLCBuZXcgTGF5YS5IYW5kbGVyKG51bGwsIChzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBMYXlhLnN0YWdlLmFkZENoaWxkKHMpO1xyXG4gICAgICAgICAgICAgICAgcm9zb2x2ZShzKTsgICAgICBcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGxvYWRTZW5jZSh1cmw6IHN0cmluZyk6IFByb21pc2U8TGF5YS5TY2VuZT4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxhbnk+KChyb3NvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgTGF5YS5TY2VuZS5sb2FkKHVybCwgbmV3IExheWEuSGFuZGxlcihudWxsLCAocykgPT4ge1xyXG4gICAgICAgICAgICAgICAgcm9zb2x2ZShzKTsgICAgICBcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGluaXQoKTogdm9pZCB7XHJcbiAgICAgICAgTGF5YS5TY2VuZS5yb290LnpPcmRlciA9IDE7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGxheWVyQ29udHJvbCBmcm9tIFwiLi9QbGF5ZXJDb250cm9sXCI7XHJcbmltcG9ydCBHYW1lIGZyb20gXCIuLi8uLi9nYW1lcGxheS9HYW1lXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBdHRhY2tDb2xsaWRlckNvbnRyb2wgZXh0ZW5kcyBMYXlhLlNjcmlwdDNEIHtcclxuICAgIFxyXG4gICAgcHVibGljIHBsYXllcjogUGxheWVyQ29udHJvbCA9IG51bGw7XHJcblxyXG4gICAgcHJpdmF0ZSBpc1Bvd2VyZWQgPSBmYWxzZTtcclxuICAgIHByaXZhdGUgY29sbGlkZXI6IExheWEuTWVzaFNwcml0ZTNEO1xyXG5cclxuICAgIHB1YmxpYyBvblN0YXJ0KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuY29sbGlkZXIgPSB0aGlzLm93bmVyIGFzIExheWEuTWVzaFNwcml0ZTNEO1xyXG4gICAgICAgIHRoaXMuc2V0UG93ZXJlZChmYWxzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uVHJpZ2dlclN0YXkob3RoZXI6IExheWEuUGh5c2ljc0NvbXBvbmVudCk6IHZvaWQge1xyXG4gICAgICAgIGRvIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmlzUG93ZXJlZCkge1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG90aGVyLm93bmVyLm5hbWUgIT0gXCJPbmlHcm91cFwiKSB7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gT25pR3JvdXBDb250cm9sIG9uaSA9IG90aGVyLkdldENvbXBvbmVudDxPbmlHcm91cENvbnRyb2w+KCk7XHJcblxyXG4gICAgICAgICAgICAvLyBpZiAob25pID09IG51bGwpXHJcbiAgICAgICAgICAgIC8vIHtcclxuXHJcbiAgICAgICAgICAgIC8vICAgICBicmVhaztcclxuICAgICAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAgICAgLy8gLy9cclxuXHJcbiAgICAgICAgICAgIC8vIG9uaS5PbkF0dGFja2VkRnJvbVBsYXllcigpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIub25BdHRhY2tPbmkoKG90aGVyLm93bmVyIGFzIExheWEuU3ByaXRlM0QpLnRyYW5zZm9ybS5wb3NpdGlvbik7XHJcbiAgICAgICAgfSB3aGlsZSAoZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRQb3dlcmVkKHN3OiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5pc1Bvd2VyZWQgPSBzdztcclxuICAgICAgICBpZiAoR2FtZS5pbnN0YW5jZS5JU19EUkFXX1BMQVlFUl9BVFRBQ0tfQ09MTElTSU9OKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29sbGlkZXIubWVzaFJlbmRlcmVyLmVuYWJsZSA9IHN3O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgU2NlbmVNYW5hZ2VyIGZyb20gXCIuLi8uLi9nYW1lcGxheS9TY2VuZU1hbmFnZXJcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbWVyYUNvbnRyb2wgZXh0ZW5kcyBMYXlhLlNjcmlwdDNEIHtcclxuXHJcbiAgICBwcml2YXRlIHBsYXllclNwcml0ZTogTGF5YS5TcHJpdGUzRDtcclxuICAgIHByaXZhdGUgcm9vdDogTGF5YS5TcHJpdGUzRDtcclxuXHJcbiAgICBwdWJsaWMgb25Bd2FrZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnBsYXllclNwcml0ZSA9IFNjZW5lTWFuYWdlci5pbnN0YW5jZS5nZXRBY3RpdmUzRFNjZW5lKCkuZ2V0Q2hpbGRCeU5hbWUoXCJQbGF5ZXJcIikgYXMgTGF5YS5TcHJpdGUzRDtcclxuICAgICAgICB0aGlzLnJvb3QgPSB0aGlzLm93bmVyIGFzIExheWEuU3ByaXRlM0Q7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uVXBkYXRlKCk6IHZvaWQgeyAgICAgICAgXHJcbiAgICAgICAgbGV0IHBvcyA9IHRoaXMucm9vdC50cmFuc2Zvcm0ucG9zaXRpb247XHJcbiAgICAgICAgcG9zLnggPSB0aGlzLnBsYXllclNwcml0ZS50cmFuc2Zvcm0ucG9zaXRpb24ueDtcclxuICAgICAgICB0aGlzLnJvb3QudHJhbnNmb3JtLnBvc2l0aW9uID0gcG9zOyAgICAgICAgXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgU2NlbmVNYW5hZ2VyIGZyb20gXCIuLi8uLi9nYW1lcGxheS9TY2VuZU1hbmFnZXJcIjtcclxuaW1wb3J0IEFwcGxpY2F0aW9uIGZyb20gXCIuLi8uLi9jb3JlL0FwcGxpY2F0aW9uXCI7XHJcbmltcG9ydCB7IFBoeXNpY3NVdGlsaXR5IH0gZnJvbSBcIi4uLy4uL2dhbWVwbGF5L1BoeXNpY3NVdGlsaXR5XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGbG9vckNvbnRyb2wgZXh0ZW5kcyBMYXlhLlNjcmlwdDNEXHJcbnsgICAgXHJcbiAgICBwcml2YXRlIG1haW5DYW1lcmE6IExheWEuU3ByaXRlM0Q7XHJcblxyXG4gICAgcHVibGljIFdJRFRIOiBudW1iZXIgPSAxMC4wICogNC4wOyAgICBcclxuICAgIHB1YmxpYyBNT0RFTF9OVU06IG51bWJlciA9IDM7ICAgIFxyXG5cclxuICAgIHB1YmxpYyBvbkF3YWtlKCk6IHZvaWRcclxuICAgIHsgICAgICAgIFxyXG4gICAgICAgIHRoaXMubWFpbkNhbWVyYSA9IFNjZW5lTWFuYWdlci5pbnN0YW5jZS5nZXRBY3RpdmUzRFNjZW5lKCkuZ2V0Q2hpbGRCeU5hbWUoXCJNYWluIENhbWVyYSBQcmVmYWJcIikgYXMgTGF5YS5TcHJpdGUzRDtcclxuXHJcbiAgICAgICAgbGV0IG1hcDIgPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwibWFwMlwiKSBhcyBMYXlhLk1lc2hTcHJpdGUzRDtcclxuICAgICAgICBtYXAyLm1lc2hSZW5kZXJlci5yZWNlaXZlU2hhZG93ID0gdHJ1ZTsgICAgICAgIFxyXG4gICAgICAgIGxldCBjb2wgPSBtYXAyLmdldENvbXBvbmVudChMYXlhLlBoeXNpY3NDb2xsaWRlcikgYXMgTGF5YS5QaHlzaWNzQ29sbGlkZXI7XHJcbiAgICAgICAgY29sLmNvbGxpc2lvbkdyb3VwID0gUGh5c2ljc1V0aWxpdHkuRU5WX0xBWUVSO1xyXG4gICAgICAgIGNvbC5jYW5Db2xsaWRlV2l0aCA9IFBoeXNpY3NVdGlsaXR5LlBMQVlFUl9MQVlFUjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25VcGRhdGUoKTogdm9pZFxyXG4gICAge1xyXG4gICAgICAgIGxldCB0b3RhbFdpZHRoID0gdGhpcy5XSURUSCAqIHRoaXMuTU9ERUxfTlVNOyAgICAgICAgXHJcbiAgICAgICAgbGV0IGZsb29yUG9zaXRpb24gPSAodGhpcy5vd25lciBhcyBMYXlhLlNwcml0ZTNEKS50cmFuc2Zvcm0ucG9zaXRpb247ICAgICAgICBcclxuICAgICAgICBsZXQgY2FtZXJhUG9zaXRpb24gPSB0aGlzLm1haW5DYW1lcmEudHJhbnNmb3JtLnBvc2l0aW9uO1xyXG4gICAgICAgIGlmIChmbG9vclBvc2l0aW9uLnggKyB0b3RhbFdpZHRoIC8gMi4wIDwgY2FtZXJhUG9zaXRpb24ueClcclxuICAgICAgICB7ICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGZsb29yUG9zaXRpb24ueCArPSB0b3RhbFdpZHRoO1xyXG5cclxuICAgICAgICAgICAgKHRoaXMub3duZXIgYXMgTGF5YS5TcHJpdGUzRCkudHJhbnNmb3JtLnBvc2l0aW9uID0gZmxvb3JQb3NpdGlvbjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjYW1lcmFQb3NpdGlvbi54IDwgZmxvb3JQb3NpdGlvbi54IC0gdG90YWxXaWR0aCAvIDIuMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBmbG9vclBvc2l0aW9uLnggLT0gdG90YWxXaWR0aDtcclxuICAgICAgICAgICAgKHRoaXMub3duZXIgYXMgTGF5YS5TcHJpdGUzRCkudHJhbnNmb3JtLnBvc2l0aW9uID0gZmxvb3JQb3NpdGlvbjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFBsYXllckNvbnRyb2wgZnJvbSBcIi4vUGxheWVyQ29udHJvbFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGxheWVyQW5pbWF0aW9uRXZlbnRDb250cm9sIGV4dGVuZHMgTGF5YS5TY3JpcHQzRCB7XHJcblxyXG4gICAgcHVibGljIHBsYXllckNvbnRyb2w6IFBsYXllckNvbnRyb2w7XHJcbiAgICBcclxuICAgIHB1YmxpYyBwbGF5U3dvcmRTb3VuZCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnBsYXllckNvbnRyb2wucGxheVN3b3JkU291bmQoKTtcclxuICAgIH1cclxufSIsImltcG9ydCBHYW1lVXRpbGl0eSBmcm9tIFwiLi4vLi4vY29yZS9HYW1lVXRpbGl0eVwiO1xyXG5pbXBvcnQgeyBQaHlzaWNzVXRpbGl0eSB9IGZyb20gXCIuLi8uLi9nYW1lcGxheS9QaHlzaWNzVXRpbGl0eVwiO1xyXG5pbXBvcnQgeyBNYXRoVXRpbGl0eSB9IGZyb20gXCIuLi8uLi9jb3JlL01hdGhVdGlsaXR5XCI7XHJcbmltcG9ydCBBdHRhY2tDb2xsaWRlckNvbnRyb2wgZnJvbSBcIi4vQXR0YWNrQ29sbGlkZXJDb250cm9sXCI7XHJcbmltcG9ydCBQbGF5ZXJBbmltYXRpb25FdmVudENvbnRyb2wgZnJvbSBcIi4vUGxheWVyQW5pbWF0aW9uRXZlbnRDb250cm9sXCI7XHJcblxyXG5lbnVtIEFUVEFDS19NT1RJT04ge1xyXG4gICAgTk9ORSA9IC0xLFxyXG5cclxuICAgIFJJR0hUID0gMCxcclxuICAgIExFRlQsXHJcblxyXG4gICAgTlVNLFxyXG59XHJcblxyXG5lbnVtIFNURVAge1xyXG4gICAgTk9ORSA9IC0xLFxyXG5cclxuICAgIFJVTiA9IDAsICAgICAgICBcclxuICAgIFNUT1AsICAgICAgICAgIFxyXG4gICAgTUlTUywgICAgICAgICAgXHJcbiAgICBOVU0sXHJcbn1cclxuXHJcbmVudW0gU3BlY2lhbEF0dGFja1N0YWdlIHtcclxuICAgIFN0YXJ0LFxyXG4gICAgUm9sbGluZyxcclxuICAgIEVuZFxyXG59XHJcblxyXG5lbnVtIEF0dGFja1N0YXRlIHtcclxuICAgIElkbGUsXHJcbiAgICBOb3JtYWxBdHRhY2ssXHJcbiAgICBTcGVjaWFsQXR0YWNrXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBsYXllckNvbnRyb2wgZXh0ZW5kcyBMYXlhLlNjcmlwdDNEIHtcclxuXHJcbiAgICBcclxuICAgIHByaXZhdGUgcmlnOiBMYXlhLlJpZ2lkYm9keTNEO1xyXG4gICAgcHJpdmF0ZSBhbmltYXRvcjogTGF5YS5BbmltYXRvcjtcclxuICAgIFxyXG4gICAgcHJpdmF0ZSBhdHRhY2tTb3VuZDogc3RyaW5nW107ICAgICAgICAgICAgIFxyXG4gICAgcHJpdmF0ZSBzd29yZFNvdW5kID0gXCJvbmlfcGxheWVyMDFcIjsgICAgICAgICAgICAgICAgIFxyXG4gICAgcHJpdmF0ZSBzd29yZEhpdFNvdW5kID0gXCJvbmlfcGxheWVyMDJcIjsgICAgICAgICAgICAgXHJcbiAgICBwcml2YXRlIG1pc3NTb3VuZCA9IFwib25pX3BsYXllcjA2XCI7ICAgICAgICAgICAgICAgICBcclxuICAgIHByaXZhdGUgcnVuU291bmQgPSBcIm9uaV9wbGF5ZXIwN1wiOyAgXHJcbiAgICBwcml2YXRlIGF0dGFja1NvdW5kSWR4ID0gMDsgICAgICBcclxuXHJcbiAgICBwcml2YXRlIHJ1blNwZWVkID0gNTtcclxuXHJcbiAgICBwcml2YXRlIFJVTl9TUEVFRF9NQVggPSAyMC4wO1xyXG4gICAgcHJpdmF0ZSBSVU5fU1BFRURfQUREID0gNS4wO1xyXG4gICAgcHJpdmF0ZSBSVU5fU1BFRURfU1VCID0gNS4wICogNC4wO1xyXG4gICAgcHJpdmF0ZSBHUkFWSVRZID0gOS44O1xyXG4gICAgcHJpdmF0ZSBNSVNTX0dSQVZJVFkgPSA5LjggKiAyLjA7XHJcblxyXG4gICAgcHJpdmF0ZSBhdHRhY2tDb2xsaWRlcjogQXR0YWNrQ29sbGlkZXJDb250cm9sO1xyXG5cclxuICAgIC8vcHJpdmF0ZSBzY2VuZUNvbnRyb2w6IFNjZW5lQ29udHJvbDtcclxuICAgIFxyXG4gICAgcHJpdmF0ZSBhdHRhY2tUaW1lciA9IDAuMDtcclxuICAgIHByaXZhdGUgYXR0YWNrRGlzYWJsZVRpbWVyID0gMC4wO1xyXG4gICAgcHJpdmF0ZSBBVFRBQ0tfVElNRSA9IDAuMztcclxuICAgIHByaXZhdGUgQVRUQUNLX0RJU0FCTEVfVElNRSA9IDEuMDtcclxuICAgIFxyXG4gICAgcHJpdmF0ZSBpc1J1bm5pbmcgPSB0cnVlO1xyXG4gICAgcHJpdmF0ZSBpc0NvbnRhY3RGbG9vciA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBpc1BsYXlhYmxlID0gdHJ1ZTtcclxuICAgIFxyXG4gICAgcHJpdmF0ZSBzdG9wUG9zaXRpb24gPSAtMS4wO1xyXG4gICAgXHJcbiAgICBwcml2YXRlIGF0dGFja01vdGlvbiA9IEFUVEFDS19NT1RJT04uTEVGVDtcclxuICAgIFxyXG4gICAgLy8gcHVibGljIGtpc2VraV9sZWZ0OiBBbmltYXRlZFRleHR1cmVFeHRlbmRlZFVWID0gbnVsbDtcclxuICAgIC8vIHB1YmxpYyBraXNla2lfcmlnaHQ6IEFuaW1hdGVkVGV4dHVyZUV4dGVuZGVkVVYgPSBudWxsO1xyXG4gICAgXHJcbiAgICBwcml2YXRlIGZ4SGl0OiBMYXlhLlNodXJpS2VuUGFydGljbGUzRCA9IG51bGw7XHJcbiAgICBwcml2YXRlIGZ4UnVuOiBMYXlhLlNodXJpS2VuUGFydGljbGUzRCA9IG51bGw7XHJcbiAgICBcclxuICAgIHByaXZhdGUgbWluUmF0ZSA9IDAuMDtcclxuICAgIHByaXZhdGUgbWF4UmF0ZSA9IDMuMDtcclxuICAgIFxyXG4gICAgcHJpdmF0ZSBzdGVwID0gU1RFUC5OT05FO1xyXG4gICAgcHJpdmF0ZSBuZXh0U3RlcCA9IFNURVAuTk9ORTtcclxuXHJcbiAgICBwcml2YXRlIGF0dGFja1N0YXRlOiBBdHRhY2tTdGF0ZSA9IEF0dGFja1N0YXRlLklkbGU7XHJcbiAgICBwcml2YXRlIHNwZWNpYWxBdHRhY2tTdGFnZTogU3BlY2lhbEF0dGFja1N0YWdlID0gU3BlY2lhbEF0dGFja1N0YWdlLkVuZDtcclxuICAgIFxyXG4gICAgcHVibGljIG9uQXdha2UoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5yaWcgPSB0aGlzLm93bmVyLmdldENvbXBvbmVudChMYXlhLlJpZ2lkYm9keTNEKSBhcyBMYXlhLlJpZ2lkYm9keTNEOyAgICBcclxuICAgICAgICB0aGlzLnJpZy5hbmd1bGFyRmFjdG9yID0gbmV3IExheWEuVmVjdG9yMygwLCAwLCAwKTsgICBcclxuICAgICAgICB0aGlzLnJpZy5jb2xsaXNpb25Hcm91cCA9IFBoeXNpY3NVdGlsaXR5LlBMQVlFUl9MQVlFUjtcclxuICAgICAgICB0aGlzLnJpZy5jYW5Db2xsaWRlV2l0aCA9IFBoeXNpY3NVdGlsaXR5LkVOVl9MQVlFUiB8IFBoeXNpY3NVdGlsaXR5LkVORU1ZX0xBWUVSO1xyXG5cclxuICAgICAgICBHYW1lVXRpbGl0eS5nZXRDaGlsZEJ5TmFtZTxMYXlhLlNraW5uZWRNZXNoU3ByaXRlM0Q+KHRoaXMub3duZXIsIFwiY2hpYmlcIikuc2tpbm5lZE1lc2hSZW5kZXJlci5jYXN0U2hhZG93ID0gdHJ1ZTsgICAgICAgICBcclxuICAgICAgICBHYW1lVXRpbGl0eS5nZXRDaGlsZEJ5TmFtZTxMYXlhLlNraW5uZWRNZXNoU3ByaXRlM0Q+KHRoaXMub3duZXIsIFwiZGVrYWlub1wiKS5za2lubmVkTWVzaFJlbmRlcmVyLmNhc3RTaGFkb3cgPSB0cnVlOyAgIFxyXG5cclxuICAgICAgICB0aGlzLmFuaW1hdG9yID0gR2FtZVV0aWxpdHkuZ2V0Q2hpbGRCeU5hbWU8TGF5YS5TcHJpdGUzRD4odGhpcy5vd25lciwgXCJtb2RlbF9zYW11cmFpXCIpLmdldENvbXBvbmVudChMYXlhLkFuaW1hdG9yKTsgICAgIFxyXG5cclxuICAgICAgICB0aGlzLmF0dGFja0NvbGxpZGVyID0gR2FtZVV0aWxpdHkuZ2V0Q2hpbGRCeU5hbWU8TGF5YS5TcHJpdGUzRD4odGhpcy5vd25lciwgXCJBdHRhY2tDb2xsaWRlclwiKS5hZGRDb21wb25lbnQoQXR0YWNrQ29sbGlkZXJDb250cm9sKTtcclxuICAgICAgICB0aGlzLmF0dGFja0NvbGxpZGVyLnBsYXllciA9IHRoaXM7XHJcblxyXG4gICAgICAgIGxldCBhdHRja0NvbCA9IEdhbWVVdGlsaXR5LmdldENoaWxkQnlOYW1lPExheWEuU3ByaXRlM0Q+KHRoaXMub3duZXIsIFwiQXR0YWNrQ29sbGlkZXJcIikuZ2V0Q29tcG9uZW50KExheWEuUGh5c2ljc0NvbGxpZGVyKSBhcyBMYXlhLlBoeXNpY3NDb2xsaWRlcjtcclxuICAgICAgICBhdHRja0NvbC5jb2xsaXNpb25Hcm91cCA9IFBoeXNpY3NVdGlsaXR5LlBMQVlFUl9MQVlFUjtcclxuICAgICAgICBhdHRja0NvbC5jYW5Db2xsaWRlV2l0aCA9IFBoeXNpY3NVdGlsaXR5LkVORU1ZX0xBWUVSO1xyXG5cclxuICAgICAgICB0aGlzLmF0dGFja1NvdW5kID0gW1wib25pX3BsYXllcjAzXCIsIFwib25pX3BsYXllcjA0XCIsIFwib25pX3BsYXllcjA1XCJdO1xyXG5cclxuICAgICAgICBsZXQgY29wID0gR2FtZVV0aWxpdHkuZ2V0Q2hpbGRCeU5hbWU8TGF5YS5TcHJpdGUzRD4odGhpcy5vd25lciwgXCJtb2RlbF9zYW11cmFpXCIpLmFkZENvbXBvbmVudChQbGF5ZXJBbmltYXRpb25FdmVudENvbnRyb2wpIGFzIFBsYXllckFuaW1hdGlvbkV2ZW50Q29udHJvbDtcclxuICAgICAgICBjb3AucGxheWVyQ29udHJvbCA9IHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uU3RhcnQoKTogdm9pZCB7XHJcbiAgICAgICAgLy8gdGhpcy5hdHRhY2tfY29sbGlkZXIgPSBHYW1lT2JqZWN0LkZpbmRHYW1lT2JqZWN0V2l0aFRhZyhcIkF0dGFja0NvbGxpZGVyXCIpLkdldENvbXBvbmVudDxBdHRhY2tDb2xsaWRlckNvbnRyb2w+KCk7XHJcblxyXG4gICAgICAgIC8vIHRoaXMuYXR0YWNrX2NvbGxpZGVyLnBsYXllciA9IHRoaXM7XHJcblxyXG4gICAgICAgIC8vIHRoaXMua2lzZWtpX2xlZnQgPSBHYW1lT2JqZWN0LkZpbmRHYW1lT2JqZWN0V2l0aFRhZyhcIkZYX0tpc2VraV9MXCIpLkdldENvbXBvbmVudDxBbmltYXRlZFRleHR1cmVFeHRlbmRlZFVWPigpO1xyXG4gICAgICAgIC8vIHRoaXMua2lzZWtpX2xlZnQuU3RvcFBsYXkoKTtcclxuXHJcbiAgICAgICAgLy8gdGhpcy5raXNla2lfcmlnaHQgPSBHYW1lT2JqZWN0LkZpbmRHYW1lT2JqZWN0V2l0aFRhZyhcIkZYX0tpc2VraV9SXCIpLkdldENvbXBvbmVudDxBbmltYXRlZFRleHR1cmVFeHRlbmRlZFVWPigpO1xyXG4gICAgICAgIC8vIHRoaXMua2lzZWtpX3JpZ2h0LlN0b3BQbGF5KCk7XHJcblxyXG4gICAgICAgIHRoaXMuZnhIaXQgPSBHYW1lVXRpbGl0eS5nZXRDaGlsZEJ5TmFtZTxMYXlhLlNodXJpS2VuUGFydGljbGUzRD4odGhpcy5vd25lciwgXCJPbmlIaXRQYXJ0aWNsZSBQcmVmYWJcIik7XHJcbiAgICAgICAgdGhpcy5meFJ1biA9IEdhbWVVdGlsaXR5LmdldENoaWxkQnlOYW1lPExheWEuU2h1cmlLZW5QYXJ0aWNsZTNEPih0aGlzLm93bmVyLCBcIk9uaVJ1blBhcnRpY2xlIFByZWZhYlwiKTtcclxuICAgICAgICB0aGlzLmZ4SGl0LnBhcnRpY2xlU3lzdGVtLnN0b3AoKTtcclxuICAgICAgICB0aGlzLmZ4UnVuLnBhcnRpY2xlU3lzdGVtLnN0b3AoKTtcclxuXHJcbiAgICAgICAgdGhpcy5ydW5TcGVlZCA9IDAuMDtcclxuICAgICAgICB0aGlzLm5leHRTdGVwID0gU1RFUC5SVU47XHJcbiAgICAgICAgdGhpcy5wbGF5U291bmQodGhpcy5ydW5Tb3VuZCwgMCk7ICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGxheVN3b3JkU291bmQoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5wbGF5U291bmQodGhpcy5zd29yZFNvdW5kKTsgIFxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcGxheVNvdW5kKG5hbWU6IHN0cmluZywgbG9vcHM/OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICBMYXlhLlNvdW5kTWFuYWdlci5wbGF5U291bmQoYHNvdW5kLyR7bmFtZX0ud2F2YCwgbG9vcHMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvblVwZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLm1pblJhdGUgPSBNYXRoVXRpbGl0eS5jbGFtcCh0aGlzLm1pblJhdGUsIDAuMCwgdGhpcy5tYXhSYXRlKTtcclxuICAgICAgICB0aGlzLm1heFJhdGUgPSBNYXRoVXRpbGl0eS5jbGFtcCh0aGlzLm1heFJhdGUsIHRoaXMubWluUmF0ZSwgNSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm5leHRTdGVwID09IFNURVAuTk9ORSkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuc3RlcCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBTVEVQLlJVTjoge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc1J1bm5pbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucnVuU3BlZWQgPD0gMC4wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZ4UnVuLnBhcnRpY2xlU3lzdGVtLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dFN0ZXAgPSBTVEVQLlNUT1A7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNURVAuTUlTUzoge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzQ29udGFjdEZsb29yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnhSdW4ucGFydGljbGVTeXN0ZW0ucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJpZy5ncmF2aXR5ID0gbmV3IExheWEuVmVjdG9yMygwLCB0aGlzLkdSQVZJVFksIDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRTdGVwID0gU1RFUC5SVU47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5uZXh0U3RlcCAhPSBTVEVQLk5PTkUpIHtcclxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLm5leHRTdGVwKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNURVAuU1RPUDoge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0b3IuY3Jvc3NGYWRlKFwic3RvcFwiLCAwLjIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2FzZSBTVEVQLk1JU1M6IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdmVsb2NpdHkgPSB0aGlzLnJpZy5saW5lYXJWZWxvY2l0eTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQganVtcEhlaWdodCA9IDEuMDtcclxuICAgICAgICAgICAgICAgICAgICB2ZWxvY2l0eS54ID0gMi41O1xyXG4gICAgICAgICAgICAgICAgICAgIHZlbG9jaXR5LnkgPSBNYXRoLnNxcnQodGhpcy5NSVNTX0dSQVZJVFkgKiBqdW1wSGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICB2ZWxvY2l0eS56ID0gMC4wO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmlnLmxpbmVhclZlbG9jaXR5ID0gdmVsb2NpdHk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yaWcuZ3Jhdml0eSA9IG5ldyBMYXlhLlZlY3RvcjMoMCwgdGhpcy5NSVNTX0dSQVZJVFksIDApOyBcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJ1blNwZWVkID0gMC4wO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0b3IuY3Jvc3NGYWRlKFwieWFyYXJlXCIsIDAuMik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5U291bmQodGhpcy5taXNzU291bmQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnhSdW4ucGFydGljbGVTeXN0ZW0uc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2FzZSBTVEVQLlJVTjoge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0b3IuY3Jvc3NGYWRlKFwicnVuXCIsIDAuMik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zdGVwID0gdGhpcy5uZXh0U3RlcDtcclxuICAgICAgICAgICAgdGhpcy5uZXh0U3RlcCA9IFNURVAuTk9ORTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN3aXRjaCAodGhpcy5zdGVwKSB7XHJcbiAgICAgICAgICAgIGNhc2UgU1RFUC5SVU46IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzUnVubmluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucnVuU3BlZWQgKz0gdGhpcy5SVU5fU1BFRURfQUREICogTGF5YS50aW1lci5kZWx0YSAqIDAuMDAxO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJ1blNwZWVkIC09IHRoaXMuUlVOX1NQRUVEX1NVQiAqIExheWEudGltZXIuZGVsdGEgKiAwLjAwMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMucnVuU3BlZWQgPSBNYXRoVXRpbGl0eS5jbGFtcCh0aGlzLnJ1blNwZWVkLCAwLjAsIHRoaXMuUlVOX1NQRUVEX01BWCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgbmV3VmVsb2NpdHkgPSB0aGlzLnJpZy5saW5lYXJWZWxvY2l0eTtcclxuICAgICAgICAgICAgICAgIG5ld1ZlbG9jaXR5LnggPSAtdGhpcy5ydW5TcGVlZDtcclxuICAgICAgICAgICAgICAgIGlmIChuZXdWZWxvY2l0eS55ID4gMC4wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3VmVsb2NpdHkueSA9IDAuMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMucmlnLmxpbmVhclZlbG9jaXR5ID0gbmV3VmVsb2NpdHk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy90aGlzLmF0dGFja0NvbnRyb2woKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3RoaXMuc3dvcmRGeENvbnRyb2woKTtcclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5pc0NvbnRhY3RGbG9vciA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgb25Db2xsaXNpb25TdGF5KGNvbGxpc2lvbjogTGF5YS5Db2xsaXNpb24pOiB2b2lkIHtcclxuICAgICAgICBpZiAoY29sbGlzaW9uLm90aGVyLm93bmVyLm5hbWUgPT0gXCJPbmlHcm91cFwiKSB7XHJcbiAgICAgICAgICAgIGRvIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmF0dGFja1RpbWVyID4gMC4wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGVwID09IFNURVAuTUlTUykge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0U3RlcCA9IFNURVAuTUlTUztcclxuXHJcbiAgICAgICAgICAgICAgICAvL3RoaXMuc2NlbmVfY29udHJvbC5PblBsYXllck1pc3NlZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIE9uaUdyb3VwQ29udHJvbCBvbmlHcm91cCA9IG90aGVyLmdhbWVPYmplY3QuR2V0Q29tcG9uZW50PE9uaUdyb3VwQ29udHJvbD4oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBvbmlHcm91cC5PblBsYXllckhpdHRlZCgpO1xyXG5cclxuICAgICAgICAgICAgfSB3aGlsZSAoZmFsc2UpO1xyXG4gXHJcbiAgICAgICAgfSBlbHNlIGlmIChjb2xsaXNpb24ub3RoZXIub3duZXIubmFtZSA9PSBcIm1hcDJcIikge1xyXG4gICAgICAgICAgICB0aGlzLmlzQ29udGFjdEZsb29yID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uQ29sbGlzaW9uRW50ZXIoY29sbGlzaW9uOiBMYXlhLkNvbGxpc2lvbik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMub25Db2xsaXNpb25TdGF5KGNvbGxpc2lvbik7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBvbkF0dGFja09uaShwb3N0aW9uOiBMYXlhLlZlY3RvcjMpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJlc2V0QXR0YWNrRGlzYWJsZVRpbWVyKCk7XHJcbiAgICAgICAgdGhpcy5wbGF5SGl0RWZmZWN0KHBvc3Rpb24pO1xyXG4gICAgICAgIHRoaXMucGxheUhpdFNvdW5kKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBwbGF5SGl0RWZmZWN0KHBvc2l0aW9uOiBMYXlhLlZlY3RvcjMpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmZ4SGl0LnRyYW5zZm9ybS5wb3NpdGlvbiA9IHBvc2l0aW9uO1xyXG4gICAgICAgIHRoaXMuZnhIaXQucGFydGljbGVTeXN0ZW0ucGxheSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcGxheUhpdFNvdW5kKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMucGxheVNvdW5kKHRoaXMuc3dvcmRIaXRTb3VuZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZXNldEF0dGFja0Rpc2FibGVUaW1lcigpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmF0dGFja0Rpc2FibGVUaW1lciA9IDAuMDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0QXR0YWNrVGltZXIoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMuQVRUQUNLX1RJTUUgLSB0aGlzLmF0dGFja1RpbWVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgR2V0U3BlZWRSYXRlKCk6IG51bWJlciB7ICAgIFxyXG4gICAgICAgIGxldCBwbGF5ZXJTcGVlZFJhdGUgPSBNYXRoVXRpbGl0eS5pbnZlcnNlTGVycCgwLjAsIHRoaXMuUlVOX1NQRUVEX01BWCwgTGF5YS5WZWN0b3IzLnNjYWxhckxlbmd0aCh0aGlzLnJpZy5saW5lYXJWZWxvY2l0eSkpO1xyXG4gICAgICAgIHJldHVybiBwbGF5ZXJTcGVlZFJhdGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0b3BSZXF1ZXN0KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuaXNSdW5uaW5nID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBsYXlhYmxlKCkge1xyXG4gICAgICAgIHRoaXMuaXNQbGF5YWJsZSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVuUGxheWFibGUoKSB7XHJcbiAgICAgICAgdGhpcy5pc1BsYXlhYmxlID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzU3RvcHBlZCgpOiBib29sZWFuIHtcclxuICAgICAgICBsZXQgaXNTdG9wcGVkID0gZmFsc2U7XHJcbiAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc1J1bm5pbmcpIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnJ1blNwZWVkID4gMC4wKSB7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpc1N0b3BwZWQgPSB0cnVlO1xyXG4gICAgICAgIH0gd2hpbGUgKGZhbHNlKTtcclxuICAgICAgICByZXR1cm4gaXNTdG9wcGVkO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjYWxjRGlzdGFuY2VUb1N0b3AoKTogbnVtYmVyIHtcclxuICAgICAgICBsZXQgZGlzdGFuY2UgPSBMYXlhLlZlY3RvcjMuc2NhbGFyTGVuZ3RoKHRoaXMucmlnLmxpbmVhclZlbG9jaXR5KSAvICgyLjAgKiB0aGlzLlJVTl9TUEVFRF9TVUIpO1xyXG4gICAgICAgIHJldHVybiBkaXN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhcnRTcGVjaWFsQXR0YWNrKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5pc1BsYXlhYmxlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmF0dGFja1N0YXRlICE9IEF0dGFja1N0YXRlLklkbGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5hdHRhY2tTdGF0ZSA9IEF0dGFja1N0YXRlLlNwZWNpYWxBdHRhY2s7XHJcblxyXG4gICAgICAgIHRoaXMuc3BlY2lhbEF0dGFja1N0YWdlID0gU3BlY2lhbEF0dGFja1N0YWdlLlN0YXJ0O1xyXG4gICAgICAgIHRoaXMuYXR0YWNrQ29sbGlkZXIuc2V0UG93ZXJlZCh0cnVlKTtcclxuICAgICAgICB0aGlzLmFuaW1hdG9yLmNyb3NzRmFkZShcImF0dGFja19yb3Rfc1wiLCAwLjIpO1xyXG4gICAgICAgIExheWEudGltZXIub25jZSgyMDAsIG51bGwsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zcGVjaWFsQXR0YWNrU3RhZ2UgPSBTcGVjaWFsQXR0YWNrU3RhZ2UuUm9sbGluZztcclxuICAgICAgICAgICAgdGhpcy5hbmltYXRvci5wbGF5KFwiYXR0YWNrX3JvdFwiKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMucGxheVNvdW5kKHRoaXMuc3dvcmRTb3VuZCk7ICBcclxuICAgICAgICB0aGlzLmF0dGFja1RpbWVyID0gMC4zMTU7XHJcbiAgICAgICAgdGhpcy5wbGF5U291bmQodGhpcy5hdHRhY2tTb3VuZFsyXSk7ICAgICAgICAgICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdG9wU3BlY2lhbEF0dGFjaygpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5hdHRhY2tTdGF0ZSAhPSBBdHRhY2tTdGF0ZS5TcGVjaWFsQXR0YWNrKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuYXR0YWNrQ29sbGlkZXIuc2V0UG93ZXJlZChmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5zcGVjaWFsQXR0YWNrU3RhZ2UgPSBTcGVjaWFsQXR0YWNrU3RhZ2UuRW5kO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0b3IucGxheShcImF0dGFja19yb3RfZVwiKTtcclxuICAgICAgICBMYXlhLnRpbWVyLm9uY2UoNTAwLCBudWxsLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0b3IuY3Jvc3NGYWRlKFwicnVuXCIsIDAuMik7XHJcbiAgICAgICAgICAgIExheWEudGltZXIub25jZSh0aGlzLmF0dGFja0Rpc2FibGVUaW1lciAqIDEwMDAsIG51bGwsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNrU3RhdGUgPSBBdHRhY2tTdGF0ZS5JZGxlO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhdHRhY2tDb250cm9sKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmF0dGFja1N0YXRlID09IEF0dGFja1N0YXRlLlNwZWNpYWxBdHRhY2spIHtcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2tUaW1lciAtPSBMYXlhLnRpbWVyLmRlbHRhICogMC4wMDE7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmF0dGFja1RpbWVyIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5U291bmQodGhpcy5zd29yZFNvdW5kKTsgIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5hdHRhY2tUaW1lciA9IDAuMzE1O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBub3JtYWxBdHRhY2soKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzUGxheWFibGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuYXR0YWNrU3RhdGUgIT0gQXR0YWNrU3RhdGUuSWRsZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmF0dGFja1N0YXRlID0gQXR0YWNrU3RhdGUuTm9ybWFsQXR0YWNrO1xyXG5cclxuICAgICAgICB0aGlzLmF0dGFja0NvbGxpZGVyLnNldFBvd2VyZWQodHJ1ZSk7XHJcbiAgICAgICAgTGF5YS50aW1lci5vbmNlKHRoaXMuQVRUQUNLX1RJTUUgKiAxMDAwLCBudWxsLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYXR0YWNrQ29sbGlkZXIuc2V0UG93ZXJlZChmYWxzZSk7XHJcbiAgICAgICAgICAgIExheWEudGltZXIub25jZSh0aGlzLkFUVEFDS19ESVNBQkxFX1RJTUUgKiAxMDAwLCBudWxsLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF0dGFja1N0YXRlID0gQXR0YWNrU3RhdGUuSWRsZTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgc3dpdGNoICh0aGlzLmF0dGFja01vdGlvbikge1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBjYXNlIEFUVEFDS19NT1RJT04uUklHSFQ6IHRoaXMuYXR0YWNrTW90aW9uID0gQVRUQUNLX01PVElPTi5MRUZUOyBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBBVFRBQ0tfTU9USU9OLkxFRlQ6IHRoaXMuYXR0YWNrTW90aW9uID0gQVRUQUNLX01PVElPTi5SSUdIVDsgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN3aXRjaCAodGhpcy5hdHRhY2tNb3Rpb24pIHtcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgY2FzZSBBVFRBQ0tfTU9USU9OLlJJR0hUOiB0aGlzLmFuaW1hdG9yLmNyb3NzRmFkZShcImF0dGFja19yXCIsIDAuMik7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEFUVEFDS19NT1RJT04uTEVGVDogdGhpcy5hbmltYXRvci5jcm9zc0ZhZGUoXCJhdHRhY2tfbFwiLCAwLjIpOyBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIExheWEudGltZXIub25jZSg2MDAsIG51bGwsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5hbmltYXRvci5jcm9zc0ZhZGUoXCJydW5cIiwgMC4yKTtcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICB0aGlzLnBsYXlTb3VuZCh0aGlzLmF0dGFja1NvdW5kW3RoaXMuYXR0YWNrU291bmRJZHhdKTtcclxuICAgICAgICB0aGlzLmF0dGFja1NvdW5kSWR4ID0gKHRoaXMuYXR0YWNrU291bmRJZHggKyAxKSAlIHRoaXMuYXR0YWNrU291bmQubGVuZ3RoO1xyXG4gICAgICAgIHRoaXMucGxheVNvdW5kKHRoaXMuc3dvcmRTb3VuZCk7ICAgICAgXHJcbiAgICB9XHJcblxyXG4vLyAgICAgcHJpdmF0ZSB2b2lkIHN3b3JkX2Z4X2NvbnRyb2woKVxyXG4vLyAgICAge1xyXG5cclxuLy8gICAgICAgICBkb1xyXG4vLyAgICAgICAgIHtcclxuXHJcbi8vICAgICAgICAgICAgIGlmICh0aGlzLmF0dGFja1RpbWVyIDw9IDAuMGYpXHJcbi8vICAgICAgICAgICAgIHtcclxuLy8gICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4vLyAgICAgICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgICAgICBBbmltYXRvciBhbmltYXRvciA9IHRoaXMuR2V0Q29tcG9uZW50SW5DaGlsZHJlbjxBbmltYXRvcj4oKTtcclxuXHJcbi8vICAgICAgICAgICAgIEFuaW1hdG9yU3RhdGVJbmZvIHN0YXRlX2luZm8gPSBhbmltYXRvci5HZXRDdXJyZW50QW5pbWF0b3JTdGF0ZUluZm8oMCk7XHJcbi8vICAgICAgICAgICAgIEFuaW1hdG9yQ2xpcEluZm8gY2xpcF9pbmZvID0gYW5pbWF0b3IuR2V0Q3VycmVudEFuaW1hdG9yQ2xpcEluZm8oMClbMF07XHJcbi8vICAgICAgICAgICAgIEFuaW1hdGlvbkNsaXAgY2xpcCA9IGNsaXBfaW5mby5jbGlwO1xyXG5cclxuLy8gICAgICAgICAgICAgQW5pbWF0ZWRUZXh0dXJlRXh0ZW5kZWRVViBhbmltX3BsYXllcjtcclxuXHJcbi8vICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5hdHRhY2tfbW90aW9uKVxyXG4vLyAgICAgICAgICAgICB7XHJcblxyXG4vLyAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuLy8gICAgICAgICAgICAgICAgIGNhc2UgQVRUQUNLX01PVElPTi5SSUdIVDpcclxuLy8gICAgICAgICAgICAgICAgICAgICB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1fcGxheWVyID0gdGhpcy5raXNla2lfcmlnaHQ7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuLy8gICAgICAgICAgICAgICAgIGNhc2UgQVRUQUNLX01PVElPTi5MRUZUOlxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgYW5pbV9wbGF5ZXIgPSB0aGlzLmtpc2VraV9sZWZ0O1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuLy8gICAgICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICAgICAgZmxvYXQgc3RhcnRfZnJhbWUgPSAyLjVmO1xyXG4vLyAgICAgICAgICAgICBmbG9hdCBzdGFydF90aW1lID0gc3RhcnRfZnJhbWUgLyBjbGlwLmZyYW1lUmF0ZTtcclxuLy8gICAgICAgICAgICAgZmxvYXQgY3VycmVudF90aW1lID0gc3RhdGVfaW5mby5ub3JtYWxpemVkVGltZSAqIHN0YXRlX2luZm8ubGVuZ3RoO1xyXG5cclxuLy8gICAgICAgICAgICAgaWYgKGN1cnJlbnRfdGltZSA8IHN0YXJ0X3RpbWUpXHJcbi8vICAgICAgICAgICAgIHtcclxuLy8gICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4vLyAgICAgICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgICAgICBhbmltX3BsYXllci5TdGFydFBsYXkoY3VycmVudF90aW1lIC0gc3RhcnRfdGltZSk7XHJcblxyXG4vLyAgICAgICAgIH0gd2hpbGUgKGZhbHNlKTtcclxuLy8gICAgIH1cclxufSIsImltcG9ydCBQbGF5ZXJDb250cm9sIGZyb20gXCIuLi9vdGhlci9QbGF5ZXJDb250cm9sXCI7XHJcbmltcG9ydCBDYW1lcmFDb250cm9sIGZyb20gXCIuLi9vdGhlci9DYW1lcmFDb250cm9sXCI7XHJcbmltcG9ydCBGbG9vckNvbnRyb2wgZnJvbSBcIi4uL290aGVyL0Zsb29yQ29udHJvbFwiO1xyXG5pbXBvcnQgR2FtZVV0aWxpdHkgZnJvbSBcIi4uLy4uL2NvcmUvR2FtZVV0aWxpdHlcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpdGxlU2NlbmVDb250cm9sIGV4dGVuZHMgTGF5YS5TY3JpcHQzRCB7XHJcblxyXG4gICAgcHVibGljIG9uQXdha2UoKTogdm9pZCB7XHJcblxyXG4gICAgICAgIGxldCBsaWdodCA9IEdhbWVVdGlsaXR5LmdldENoaWxkQnlOYW1lPExheWEuRGlyZWN0aW9uTGlnaHQ+KHRoaXMub3duZXIsIFwiRGlyZWN0aW9uYWwgbGlnaHRcIik7XHJcbiAgICAgICAgbGlnaHQuc2hhZG93ID0gdHJ1ZTsgICAgICAgIFxyXG4gICAgICAgIGxpZ2h0LnNoYWRvd0Rpc3RhbmNlID0gMTAwOyAgICAgICAgXHJcbiAgICAgICAgbGlnaHQuc2hhZG93UmVzb2x1dGlvbiA9IDIwNDg7ICAgICAgICBcclxuICAgICAgICBsaWdodC5zaGFkb3dQU1NNQ291bnQgPSAxOyAgICAgICAgXHJcbiAgICAgICAgbGlnaHQuc2hhZG93UENGVHlwZSA9IDM7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IHBsYXllciA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJQbGF5ZXJcIikgYXMgTGF5YS5TcHJpdGUzRDtcclxuICAgICAgICBwbGF5ZXIuYWRkQ29tcG9uZW50KFBsYXllckNvbnRyb2wpO1xyXG5cclxuICAgICAgICBsZXQgY2FtZXJhID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcIk1haW4gQ2FtZXJhIFByZWZhYlwiKSBhcyBMYXlhLkNhbWVyYTtcclxuICAgICAgICBjYW1lcmEuYWRkQ29tcG9uZW50KENhbWVyYUNvbnRyb2wpO1xyXG5cclxuICAgICAgICBsZXQgZmxvb3IxID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcIkZsb29yMCBQcmVmYWJcIikgYXMgTGF5YS5TcHJpdGUzRDtcclxuICAgICAgICBmbG9vcjEuYWRkQ29tcG9uZW50KEZsb29yQ29udHJvbCk7XHJcblxyXG4gICAgICAgIGxldCBmbG9vcjIgPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwiRmxvb3IxIFByZWZhYlwiKSBhcyBMYXlhLlNwcml0ZTNEO1xyXG4gICAgICAgIGZsb29yMi5hZGRDb21wb25lbnQoRmxvb3JDb250cm9sKTtcclxuXHJcbiAgICAgICAgbGV0IGZsb29yMyA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJGbG9vcjIgUHJlZmFiXCIpIGFzIExheWEuU3ByaXRlM0Q7XHJcbiAgICAgICAgZmxvb3IzLmFkZENvbXBvbmVudChGbG9vckNvbnRyb2wpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgb25VcGRhdGUoKTogdm9pZCB7XHJcblxyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmFkZUNvbnRyb2wgZXh0ZW5kcyBMYXlhLlNjcmlwdFxyXG57XHJcbiAgICBwcml2YXRlIHRpbWVyOiBudW1iZXI7ICAgICAgICAgICAgIFxyXG4gICAgcHJpdmF0ZSBmYWRlVGltZTogbnVtYmVyOyAgICAgICAgIFxyXG4gICAgcHJpdmF0ZSBjb2xvclN0YXJ0OiBMYXlhLkNvbG9yOyAgIFxyXG4gICAgcHJpdmF0ZSBjb2xvclRhcmdldDogTGF5YS5Db2xvcjsgIFxyXG4gICAgcHJpdmF0ZSBpbWFnZUN0cmw6IExheWEuQm94OyAgICBcclxuICAgIHByaXZhdGUgZmFkaW5nOiBib29sZWFuO1xyXG5cclxuICAgIHB1YmxpYyBvbkF3YWtlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudGltZXIgPSAwLjA7XHJcbiAgICAgICAgdGhpcy5mYWRlVGltZSA9IDAuMDtcclxuICAgICAgICB0aGlzLmNvbG9yU3RhcnQgPSBuZXcgTGF5YS5Db2xvcigwLjAsIDAuMCwgMC4wLCAwLjApO1xyXG4gICAgICAgIHRoaXMuY29sb3JUYXJnZXQgPSBuZXcgTGF5YS5Db2xvcigwLjAsIDAuMCwgMC4wLCAwLjApO1xyXG4gICAgICAgIHRoaXMuaW1hZ2VDdHJsID0gdGhpcy5vd25lciBhcyBMYXlhLkJveCAgICAgICAgXHJcbiAgICAgICAgdGhpcy5mYWRpbmcgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25VcGRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuZmFkZVRpbWUpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudGltZXIgPCB0aGlzLmZhZGVUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcmF0ZSA9IHRoaXMudGltZXIgLyB0aGlzLmZhZGVUaW1lO1xyXG4gICAgICAgICAgICAgICAgcmF0ZSA9IE1hdGguc2luKHJhdGUgKiBNYXRoLlBJIC8gMi4wKTtcclxuICAgICAgICAgICAgICAgIGxldCBjb2xvciA9IHRoaXMubGVycENvbG9yKHRoaXMuY29sb3JTdGFydCwgdGhpcy5jb2xvclRhcmdldCwgcmF0ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbG9yKGNvbG9yKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ29sb3IodGhpcy5jb2xvclRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZhZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudGltZXIgKz0gTGF5YS50aW1lci5kZWx0YSAqIDAuMDAxO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGxlcnBDb2xvcihsOiBMYXlhLkNvbG9yLCByOiBMYXlhLkNvbG9yLCB0OiBudW1iZXIpOiBMYXlhLkNvbG9yIHtcclxuICAgICAgICByZXR1cm4gbmV3IExheWEuQ29sb3IoTGF5YS5NYXRoVXRpbC5sZXJwKGwuciwgci5yLCB0KSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMYXlhLk1hdGhVdGlsLmxlcnAobC5nLCByLmcsIHQpLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIExheWEuTWF0aFV0aWwubGVycChsLmIsIHIuYiwgdCksIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTGF5YS5NYXRoVXRpbC5sZXJwKGwuYSwgci5hLCB0KSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB0b0hleCh2OiBudW1iZXIpOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCBzID0gdi50b1N0cmluZygxNik7XHJcbiAgICAgICAgaWYgKHMubGVuZ3RoID09IDEpIHtcclxuICAgICAgICAgICAgcyA9IFwiMFwiICsgcztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHM7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVDb2xvcihjb2xvcjogTGF5YS5Db2xvcik6IHZvaWQge1xyXG4gICAgICAgIGxldCBjID0gXCIjXCIgKyB0aGlzLnRvSGV4KGNvbG9yLnIpICArIHRoaXMudG9IZXgoY29sb3IuZykgKyB0aGlzLnRvSGV4KGNvbG9yLmIpO1xyXG4gICAgICAgIHRoaXMuaW1hZ2VDdHJsLmJnQ29sb3IgPSBjO1xyXG4gICAgICAgIHRoaXMuaW1hZ2VDdHJsLmFscGhhID0gY29sb3IuYTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZmFkZSh0aW1lOiBudW1iZXIsIHN0YXJ0OiBMYXlhLkNvbG9yLCB0YXJnZXQ6IExheWEuQ29sb3IpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmltYWdlQ3RybC52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmZhZGVUaW1lID0gdGltZTtcclxuICAgICAgICB0aGlzLnRpbWVyID0gMC4wO1xyXG4gICAgICAgIHRoaXMuY29sb3JTdGFydCA9IHN0YXJ0O1xyXG4gICAgICAgIHRoaXMuY29sb3JUYXJnZXQgPSB0YXJnZXQ7XHJcbiAgICAgICAgdGhpcy5mYWRpbmcgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc0FjdGl2ZSgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5mYWRpbmc7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgRmFkZUNvbnRyb2wgZnJvbSBcIi4uL2V4dGVuZC9GYWRlQ29udHJvbFwiO1xyXG5pbXBvcnQgR2FtZVV0aWxpdHkgZnJvbSBcIi4uLy4uL2NvcmUvR2FtZVV0aWxpdHlcIjtcclxuaW1wb3J0IFNjZW5lTWFuYWdlciBmcm9tIFwiLi4vLi4vZ2FtZXBsYXkvU2NlbmVNYW5hZ2VyXCI7XHJcbmltcG9ydCBQbGF5ZXJDb250cm9sIGZyb20gXCIuLi8uLi9zY3JpcHQvb3RoZXIvUGxheWVyQ29udHJvbFwiO1xyXG5cclxuZW51bSBTVEVQIHtcclxuICAgIE5PTkUgPSAtMSxcclxuXHJcbiAgICBUSVRMRSA9IDAsICAgICAgICAgICAgIFxyXG4gICAgV0FJVF9TRV9FTkQsICAgICAgICAgICAgXHJcbiAgICBGQURFX1dBSVQsICAgXHJcblxyXG4gICAgTlVNLFxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGl0bGVWaWV3IGV4dGVuZHMgTGF5YS5TY3JpcHQge1xyXG5cclxuICAgIHByaXZhdGUgZmFkZXI6IEZhZGVDb250cm9sO1xyXG5cclxuICAgIFxyXG4gICAgcHJpdmF0ZSBzdGVwOiBTVEVQID0gU1RFUC5OT05FO1xyXG4gICAgcHJpdmF0ZSBuZXh0U3RlcDogU1RFUCA9IFNURVAuTk9ORTtcclxuICAgIHByaXZhdGUgc3RlcFRpbWVyOiBudW1iZXIgPSAwLjA7XHJcbiAgICBcclxuICAgIHByaXZhdGUgc3RhcnRJbWc6IExheWEuSW1hZ2U7ICAgICAgIFxyXG4gICAgXHJcbiAgICBwcml2YXRlIFRJVExFX0FOSU1FX1RJTUU6IG51bWJlciA9IDAuMTtcclxuICAgIHByaXZhdGUgRkFERV9USU1FOiBudW1iZXIgPSAxLjA7ICAgIFxyXG5cclxuICAgIHB1YmxpYyBvbkF3YWtlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZmFkZXIgPSBHYW1lVXRpbGl0eS5nZXRDaGlsZEJ5TmFtZTxMYXlhLlNwcml0ZT4odGhpcy5vd25lciwgXCJmYWRlXCIpLmdldENvbXBvbmVudChGYWRlQ29udHJvbCk7ICAgICAgICBcclxuICAgICAgICB0aGlzLnN0YXJ0SW1nID0gR2FtZVV0aWxpdHkuZ2V0Q2hpbGRCeU5hbWU8TGF5YS5JbWFnZT4odGhpcy5vd25lciwgXCJzdGFydFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25LZXlEb3duKGU6IExheWEuRXZlbnQpOiB2b2lkIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uU3RhcnQoKTogdm9pZCB7XHJcbiAgICAgICAgLy8gUGxheWVyQ29udHJvbCBwbGF5ZXIgPSBHYW1lT2JqZWN0LkZpbmRHYW1lT2JqZWN0V2l0aFRhZyhcIlBsYXllclwiKS5HZXRDb21wb25lbnQ8UGxheWVyQ29udHJvbD4oKTtcclxuICAgICAgICAvLyBwbGF5ZXIuVW5QbGF5YWJsZSgpO1xyXG5cclxuICAgICAgICB0aGlzLm5leHRTdGVwID0gU1RFUC5USVRMRTtcclxuICAgICAgICB0aGlzLmZhZGVyLmZhZGUodGhpcy5GQURFX1RJTUUsIG5ldyBMYXlhLkNvbG9yKDAuMCwgMC4wLCAwLjAsIDEuMCksIG5ldyBMYXlhLkNvbG9yKDAuMCwgMC4wLCAwLjAsIDAuMCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvbkNsaWNrKGU6IExheWEuRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5zdGVwID09IFNURVAuVElUTEUpIHtcclxuICAgICAgICAgICAgLy90aGlzLm5leHRTdGVwID0gU1RFUC5XQUlUX1NFX0VORDtcclxuICAgICAgICAgICAgbGV0IHBsYXllciA9IEdhbWVVdGlsaXR5LmdldENoaWxkQnlOYW1lPExheWEuU3ByaXRlM0Q+KFNjZW5lTWFuYWdlci5pbnN0YW5jZS5nZXRBY3RpdmUzRFNjZW5lKCksIFwiUGxheWVyXCIpLmdldENvbXBvbmVudChQbGF5ZXJDb250cm9sKSBhcyBQbGF5ZXJDb250cm9sO1xyXG4gICAgICAgICAgICBwbGF5ZXIubm9ybWFsQXR0YWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvbk1vdXNlRG93bihlOiBMYXlhLkV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgbGV0IHBsYXllciA9IEdhbWVVdGlsaXR5LmdldENoaWxkQnlOYW1lPExheWEuU3ByaXRlM0Q+KFNjZW5lTWFuYWdlci5pbnN0YW5jZS5nZXRBY3RpdmUzRFNjZW5lKCksIFwiUGxheWVyXCIpLmdldENvbXBvbmVudChQbGF5ZXJDb250cm9sKSBhcyBQbGF5ZXJDb250cm9sO1xyXG4gICAgICAgIHBsYXllci5zdGFydFNwZWNpYWxBdHRhY2soKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25Nb3VzZVVwKGU6IExheWEuRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICBsZXQgcGxheWVyID0gR2FtZVV0aWxpdHkuZ2V0Q2hpbGRCeU5hbWU8TGF5YS5TcHJpdGUzRD4oU2NlbmVNYW5hZ2VyLmluc3RhbmNlLmdldEFjdGl2ZTNEU2NlbmUoKSwgXCJQbGF5ZXJcIikuZ2V0Q29tcG9uZW50KFBsYXllckNvbnRyb2wpIGFzIFBsYXllckNvbnRyb2w7XHJcbiAgICAgICAgcGxheWVyLnN0b3BTcGVjaWFsQXR0YWNrKCk7XHJcbiAgICB9ICAgIFxyXG5cclxuICAgIHB1YmxpYyBvblVwZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnN0ZXBUaW1lciArPSBMYXlhLnRpbWVyLmRlbHRhICogMC4wMDE7XHJcbiAgICAgICAgXHJcbiAgICAgICAgc3dpdGNoICh0aGlzLnN0ZXApIHtcclxuICAgICAgICAgICAgY2FzZSBTVEVQLkZBREVfV0FJVDogeyAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmZhZGVyLmlzQWN0aXZlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJsb2FkIG5leHQgc2NlbmVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vVW5pdHlFbmdpbmUuU2NlbmVNYW5hZ2VtZW50LlNjZW5lTWFuYWdlci5Mb2FkU2NlbmUoXCJHYW1lU2NlbmVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5uZXh0U3RlcCAhPSBTVEVQLk5PTkUpIHtcclxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLm5leHRTdGVwKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNURVAuV0FJVF9TRV9FTkQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgTGF5YS5Tb3VuZE1hbmFnZXIucGxheVNvdW5kKFwic291bmQvb25pX3N5c3RlbTAxLndhdlwiLCAxLCBuZXcgTGF5YS5IYW5kbGVyKG51bGwsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmFkZXIuZmFkZSh0aGlzLkZBREVfVElNRSwgbmV3IExheWEuQ29sb3IoMC4wLCAwLjAsIDAuMCwgMC4wKSwgbmV3IExheWEuQ29sb3IoMC4wLCAwLjAsIDAuMCwgMS4wKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRTdGVwID0gU1RFUC5GQURFX1dBSVQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3RlcCA9IHRoaXMubmV4dFN0ZXA7XHJcbiAgICAgICAgICAgIHRoaXMubmV4dFN0ZXAgPSBTVEVQLk5PTkU7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN0ZXBUaW1lciA9IDAuMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN3aXRjaCAodGhpcy5zdGVwKSB7XHJcbiAgICAgICAgICAgIGNhc2UgU1RFUC5XQUlUX1NFX0VORDoge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCByYXRlID0gdGhpcy5zdGVwVGltZXIgLyB0aGlzLlRJVExFX0FOSU1FX1RJTUU7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhdGUgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhdGUgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBsZXQgc2NhbGUgPSBMYXlhLk1hdGhVdGlsLmxlcnAoMi4wLCAxLjAsIHJhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRJbWcuc2NhbGUoc2NhbGUsIHNjYWxlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdfQ==
